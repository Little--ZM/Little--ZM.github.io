<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[è€å¦ˆçš„ç”Ÿæ´»å“²å­¦]]></title>
      <url>%2F2017%2F05%2F07%2F%E6%9C%B1%E8%80%81%E5%B8%88%E4%B8%8E%E8%80%81%E5%A6%88%E7%9A%84%E7%94%9F%E6%B4%BB%E7%BB%86%E8%8A%82%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘å®¶é‡Œäººæ„Ÿå†’çš„å¤šï¼Œå§å§çš„åŒèƒžèƒŽï¼Œå°çš„é‚£ä¸ªè¢«æˆ‘ä»¬å¸¦åˆ°èˆ…èˆ…å®¶ã€‚ ä¸­åˆï¼Œæˆ‘åŽ»æˆ‘å¦ˆé‚£é‡Œ; æˆ‘ï¼šè€å¦ˆï¼Œä»Šæ™šèˆ…å¦ˆæœ‰äº‹å„¿ï¼Œæˆ‘å¸¦å°å®è´ï¼Œä½ ç»™æˆ‘é€ç‚¹é¥­ã€‚ è€å¦ˆï¼šä½ ä¸­åˆå‰©çš„é¥­ä½ çƒ­çƒ­å°±å¥½å•¦ã€‚ æˆ‘ ï¼š ã€‚ã€‚ã€‚é‚£æˆ‘å«å¤–å–ã€‚ã€‚ è€å¦ˆ ï¼š é‚£æˆ‘ä¹ŸåŽ»åƒ ðŸ˜Œ â€“ The End â€“]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Linux ä¸Šæ­å»º Anaconda, è¿œç¨‹è®¿é—® juypter]]></title>
      <url>%2F2017%2F05%2F05%2FLinux-%E4%B8%8A%E6%90%AD%E5%BB%BA-Anaconda-%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE-juypter%2F</url>
      <content type="text"><![CDATA[1 ä»€ä¹ˆæ˜¯ AnacondaAnaconda èƒ½è®©ä½ è½»æ¾å®‰è£…åœ¨æ•°æ®ç§‘å­¦å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨çš„åŒ…ã€‚ä½ è¿˜å°†ä½¿ç”¨å®ƒåˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒï¼Œä»¥ä¾¿æ›´è½»æ¾åœ°å¤„ç†å¤šä¸ªé¡¹ç›®ã€‚Anaconda ç®€åŒ–äº†æˆ‘çš„å·¥ä½œæµç¨‹ï¼Œå¹¶ä¸”è§£å†³äº†æˆ‘åœ¨å¤„ç†åŒ…å’Œå¤šä¸ª Python ç‰ˆæœ¬æ—¶é‡åˆ°çš„å¤§é‡é—®é¢˜ã€‚ Anaconda å®žé™…ä¸Šæ˜¯ä¸€ä¸ªè½¯ä»¶å‘è¡Œç‰ˆï¼Œå®ƒé™„å¸¦äº† condaã€Python å’Œ 150 å¤šä¸ªç§‘å­¦åŒ…åŠå…¶ä¾èµ–é¡¹ã€‚åº”ç”¨ç¨‹åº conda æ˜¯åŒ…å’ŒçŽ¯å¢ƒç®¡ç†å™¨ã€‚Anaconda çš„ä¸‹è½½æ–‡ä»¶æ¯”è¾ƒå¤§ï¼ˆçº¦ 500 MBï¼‰ï¼Œå› ä¸ºå®ƒé™„å¸¦äº† Python ä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç§‘å­¦åŒ…ã€‚å¦‚æžœåªéœ€è¦æŸäº›åŒ…ï¼Œæˆ–è€…éœ€è¦èŠ‚çœå¸¦å®½æˆ–å­˜å‚¨ç©ºé—´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Miniconda è¿™ä¸ªè¾ƒå°çš„å‘è¡Œç‰ˆï¼ˆä»…åŒ…å« conda å’Œ Pythonï¼‰ã€‚ä½ ä»å¯ä»¥ä½¿ç”¨ conda æ¥å®‰è£…ä»»ä½•å¯ç”¨çš„åŒ…ï¼Œå®ƒåªæ˜¯æ²¡æœ‰é™„å¸¦è¿™äº›åŒ…è€Œå·²ã€‚ é™¤äº†ç®¡ç†åŒ…ä¹‹å¤–ï¼Œconda è¿˜æ˜¯è™šæ‹ŸçŽ¯å¢ƒç®¡ç†å™¨ã€‚å®ƒç±»ä¼¼äºŽå¦å¤–ä¸¤ä¸ªå¾ˆæµè¡Œçš„çŽ¯å¢ƒç®¡ç†å™¨ï¼Œå³ virtualenv å’Œ pyenv çŽ¯å¢ƒèƒ½è®©ä½ åˆ†éš”ä½ è¦ç”¨äºŽä¸åŒé¡¹ç›®çš„åŒ…ã€‚ä½ å¸¸å¸¸è¦ä½¿ç”¨ä¾èµ–äºŽæŸä¸ªåº“çš„ä¸åŒç‰ˆæœ¬çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œä½ çš„ä»£ç å¯èƒ½ä½¿ç”¨äº† Numpy ä¸­çš„æ–°åŠŸèƒ½ï¼Œæˆ–è€…ä½¿ç”¨äº†å·²åˆ é™¤çš„æ—§åŠŸèƒ½ã€‚å®žé™…ä¸Šï¼Œä¸å¯èƒ½åŒæ—¶å®‰è£…ä¸¤ä¸ª Numpy ç‰ˆæœ¬ã€‚ä½ è¦åšçš„åº”è¯¥æ˜¯ï¼Œä¸ºæ¯ä¸ª Numpy ç‰ˆæœ¬åˆ›å»ºä¸€ä¸ªçŽ¯å¢ƒï¼Œç„¶åŽåœ¨é€‚ç”¨äºŽé¡¹ç›®çš„çŽ¯å¢ƒä¸­å·¥ä½œã€‚ åœ¨åº”å¯¹ Python 2 å’Œ Python 3 æ—¶ï¼Œæ­¤é—®é¢˜ä¹Ÿä¼šå¸¸å¸¸å‘ç”Ÿã€‚ä½ å¯èƒ½ä¼šä½¿ç”¨åœ¨ Python 3 ä¸­ä¸èƒ½è¿è¡Œçš„æ—§ä»£ç ï¼Œä»¥åŠåœ¨ Python 2 ä¸­ä¸èƒ½è¿è¡Œçš„æ–°ä»£ç ã€‚åŒæ—¶å®‰è£…ä¸¤ä¸ªç‰ˆæœ¬å¯èƒ½ä¼šé€ æˆè®¸å¤šæ··ä¹±å’Œé”™è¯¯ã€‚è€Œåˆ›å»ºç‹¬ç«‹çš„çŽ¯å¢ƒä¼šå¥½å¾ˆå¤šã€‚ ä¹Ÿå¯ä»¥å°†çŽ¯å¢ƒä¸­çš„åŒ…çš„åˆ—è¡¨å¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œç„¶åŽå°†è¯¥æ–‡ä»¶ä¸Žä»£ç åŒ…æ‹¬åœ¨ä¸€èµ·ã€‚è¿™èƒ½è®©å…¶ä»–äººè½»æ¾åŠ è½½ä»£ç çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚pip æä¾›äº†ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå³ 1pip freeze &gt; requirements.txtã€‚ 2 ä¸ºä»€ä¹ˆä½¿ç”¨ conda è€Œä¸æ˜¯ virtualenv? 3 å®‰è£…è¿‡ç¨‹1 ä¸‹è½½ ï¼Œä¸Šä¼ åˆ°æœºå™¨ä½ ä¹Ÿå¯ä»¥åœ¨æœºå™¨ wget 1https://repo.continuum.io/archive/Anaconda2-4.3.1-Linux-x86_64.sh 2 å®‰è£…1sh Anaconda2-4.3.1-Linux-x86_64.sh é€‰æ‹©å®‰è£…ç›®å½•ã€‚ä¸ºäº†èŠ‚çº¦ æ ¹ç›®å½•ç©ºé—´ï¼Œå®‰è£…åœ¨ 12# ç›®å½•äº‹å…ˆå¿…é¡»ä¸å­˜åœ¨/data/min.zhu/anaconda2 ä¸‹é¢ source ä¸€ä¸‹ .bashrc 1source ~/.bashrc 3 è®¾ç½®å›½å†…Anacondaæº1234# æ·»åŠ Anacondaçš„TUNAé•œåƒconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/# TUNAçš„helpä¸­é•œåƒåœ°å€åŠ æœ‰å¼•å·ï¼Œéœ€è¦åŽ»æŽ‰# è®¾ç½®æœç´¢æ—¶æ˜¾ç¤ºé€šé“åœ°å€conda config --set show_channel_urls yes 4 å®‰è£…éœ€è¦çš„çŽ¯å¢ƒæ¯”å¦‚å®‰è£… 3.5 çš„python 1conda create -n lr3 python=3.5 æ¿€æ´» 1source activate lr3 ä¹‹åŽè¿›å…¥è™šæ‹ŸçŽ¯å¢ƒ å¯ä»¥åœ¨é€šè¿‡ conda è¿›è¡ŒåŒ…çš„ç®¡ç† 1conda install xxx 5 ä¿®æ”¹ pip æºä¸ºé˜¿é‡Œæºå› ä¸ºæœ‰äº›åŒ…ç‚¹è¯„ç›´æŽ¥å°±æ²¡æœ‰ æ¯”å¦‚ tflearn å’Œ tensorflow 123vim ~/.pip/pip.conftrusted-host=mirrors.aliyun.comindex-url=http://mirrors.aliyun.com/pypi/simple/ 6 è¿œç¨‹juypter è®¿é—®é¦–å…ˆï¼Œä¸å»ºè®®ä½¿ç”¨root , å½“ä½ ä½¿ç”¨ root çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ã€‚ 1jupyter notebook --allow-root ç¬¬äºŒï¼Œè¿œç¨‹æœåŠ¡å™¨è®¿é—®éœ€è¦åšä¸€äº›é…ç½® å¯ä»¥å‚è€ƒå¦‚ä¸‹æ–‡ç«  1http://blog.leanote.com/post/jevonswang/è¿œç¨‹è®¿é—®jupyter-notebook è¿›è¡Œé…ç½® 4 ç®¡ç†çŽ¯å¢ƒå¦‚æžœä½ å®‰è£…äº†å¤šä¸ªçŽ¯å¢ƒï¼Œä½†æ˜¯ä¸è®°å¾—åå­—ï¼Œæˆ–è€…æƒ³ä¿®æ”¹çš„è¯ï¼Œé€šè¿‡ conda-env è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥çœ‹åˆ°ä½ æ‰€æœ‰çš„çŽ¯å¢ƒäº†ã€‚ å¯ä»¥çœ‹åˆ°é™„å¸¦æ‰€æœ‰æ“ä½œ æ¯”å¦‚ conda-env list å°±æ˜¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤çš„æ ¼å¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CentOS 6.x å¦‚ä½•å‡çº§ glibc 2.17]]></title>
      <url>%2F2017%2F05%2F05%2FCentOS-6-x-%E5%A6%82%E4%BD%95%E5%8D%87%E7%BA%A7-glibc-2-17%2F</url>
      <content type="text"><![CDATA[å¼•å­æœ¬æ–‡æè¿°å¦‚ä½•åœ¨ CentOS 6.x å‡çº§è›‹ç–¼çš„ glibc 2.17. å­¦ä¹ æœºå™¨çš„å†…å®¹ï¼Œéœ€è¦ç”¨åˆ° tensorFlow, åœ¨è‡ªå·± Mac ä¸Šè·‘å¤ªå¿ƒç–¼äº†ã€‚ äºŽæ˜¯å°è¯•åœ¨å…¬å¸çš„æµ‹è¯•æœºä¸Šè·‘ã€‚ç„¶è€Œæˆ‘æ­å»ºå¥½ conda, jupyter notebook , å¼•å…¥ tf çš„æ—¶å€™æŠ¥é”™ã€‚ï¼ˆå…³äºŽå¦‚ä½• å®‰è£…ç§‘å­¦è®¡ç®—çŽ¯å¢ƒï¼Œä»¥åŠè¿œç¨‹è®¿é—® jupyter notebook, è¯·çœ‹ä¸‹ä¸€ç¯‡æ–‡ç« ï¼‰ å¦‚ä¸‹ åœ¨ä¸€çœ‹æœºå™¨ä¸Šçš„æƒ…å†µ æœ€é«˜åªæœ‰ 2.15 å…¶å®žå·²ç»æ˜¯è¿ç»´å‡çº§è¿‡äº†çš„ï¼Œé»˜è®¤åªåˆ° 12ã€‚ä¸»è¦è¿˜æ˜¯æˆ‘ä»¬çš„ç³»ç»Ÿç‰ˆæœ¬å¤ªä½Žã€‚ CentOS 7.Xï¼ŒGLIBC å·²ç»åˆ° 2.17ï¼ŒGCC ä¹Ÿæ˜¯ 4.8.5ä½†æ˜¯å¯¹äºŽå…¬å¸æ¥è¯´ï¼Œç¨³å®šæ˜¯ç¬¬ä¸€ä½çš„ã€‚æ‰€ä»¥ã€‚ã€‚ã€‚ å¦‚ä½•å®‰è£…ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æºç ç¼–è¯‘ï¼Œä¸€ç§æ˜¯ç”¨ rpm æ¥å®‰è£…ï¼Œä¹‹å‰çœ‹åˆ°è¿™ç¯‡æ–‡ç« ç‚¹è¿™é‡Œï¼Œå…¶å®žè¯´çš„è¿˜è›®å¥½çš„ï¼Œä½†æ˜¯åªæ˜¯å‡çº§åˆ° 2.15ï¼Œ è€Œæœ€æ–°çš„ tf 1.1 ç‰ˆæœ¬ï¼Œéœ€è¦ 2.17 çš„ç‰ˆæœ¬ã€‚ å…¶å®žé—®é¢˜æœ€å¤§çš„å°±æ˜¯æ‰¾ä¸åˆ°ç»™ CentOS 6.x ç”¨çš„ 2.17 çš„ rpm åŒ…ï¼Œç›´åˆ°ä»Šæ—¥ï¼Œæˆ‘æœåˆ°äº†æœ‰äººæ˜¨å¤©å‘å¸ƒä¸€æ®µè„šæœ¬ï¼Œæ‰ç®—æ‰¾åˆ°äº†è§£å†³æ–¹æ³•ï¼Œç›´æŽ¥ç»™é“¾æŽ¥ æ„Ÿæ¿€ä¸‡åˆ†çš„ç‚¹è¿™é‡Œ ä½ ä¸æ„¿ç‚¹çœ‹ï¼Œæˆ‘å°±å†™ä¸‹æ¥ï¼š 12345678910111213#! /bin/sh# update glibc to 2.17 for CentOS 6wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpmwget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpmwget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpmwget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpmsudo rpm -Uvh glibc-2.17-55.el6.x86_64.rpm \glibc-common-2.17-55.el6.x86_64.rpm \glibc-devel-2.17-55.el6.x86_64.rpm \glibc-headers-2.17-55.el6.x86_64.rpm å…¶å®žå°±æ˜¯ä¸‹è½½èµ„æºï¼Œç„¶åŽç”¨ rpm å®‰è£…ã€‚ å¯èƒ½é‡åˆ°çš„é”™è¯¯å½“ä½ æ‰§è¡Œ 1234rpm -Uvh glibc-2.17-55.el6.x86_64.rpm \ glibc-common-2.17-55.el6.x86_64.rpm \ glibc-devel-2.17-55.el6.x86_64.rpm \ glibc-headers-2.17-55.el6.x86_64.rpm çš„æ—¶å€™ä¼šæŠ¥é”™ è§£å†³æ–¹æ¡ˆï¼šå‘½ä»¤ç»“å°¾åŠ ä¸Šå‚æ•° 1--force --nodeps åŽŸå› å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  ç‚¹è¿™é‡Œï¼Œé€ æˆè¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŽŸå› æ˜¯å¥—ä»¶è¢«é‡è¤‡ (å¼ºåˆ¶) å®‰è£…äº†ä¸¤æ¬¡ä»¥ä¸Š. å¯ä»¥ç”¨ä¸Šé¢çš„å‘½ä»¤è¿›è¡Œä¾èµ–å¿½ç•¥ï¼Œä¹Ÿå¯ä»¥å¸è½½ã€‚ æ€»ç»“ æœç´¢çš„å…³é”®è¯çœŸçš„å¾ˆé‡è¦ï¼Œè°·æ­Œå¾ˆé‡è¦ï¼Œè‹±è¯­å¾ˆé‡è¦ã€‚ è¿æ°”å¾ˆé‡è¦(è¿™ä¸ªé—®é¢˜æŠ˜è…¾æˆ‘ä¸¤ä¸ªç¤¼æ‹œ) åˆ«ç”¨ç™¾åº¦æœæŠ€æœ¯é—®é¢˜ã€‚ è¿˜æœ‰ï¼Œå¦‚æžœä½ æ‰‹åŠ¨ç¼–è¯‘å®‰è£…glibcã€‚ã€‚ã€‚ã€‚ä¸‡ä¸€ä½ å®‰è£…å¤±è´¥å°±ä¼šå¯¼è‡´ç³»ç»Ÿå„ç§å‘½ä»¤æ— æ³•æ‰§è¡Œã€‚ã€‚åƒä¸‡åˆ«é€€å‡ºã€‚ã€‚ä½ ä¸€æ—¦é€€å‡ºï¼Œå°±æ— æ³•ç™»é™†äº†ï¼Œåªèƒ½ç”¨å…‰ç›˜æ¢å¤ç³»ç»Ÿäº†ã€‚ã€‚ ä½†æ˜¯è¿™ç¯‡æ–‡ç« é‡Œçš„æ–¹æ³•ï¼Œå¯ä»¥è¯•ä¸€è¯• è§£å†³æ–¹æ³•]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8 ä¸€ä¸ªé¢ è¦†äº†é¢å‘å¯¹è±¡è®¤çŸ¥çš„ä¾‹å­]]></title>
      <url>%2F2017%2F05%2F03%2Fjdk8-%E4%B8%80%E4%B8%AA%E9%A2%A0%E8%A6%86%E4%BA%86%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%A4%E7%9F%A5%E7%9A%84%E4%BE%8B%E5%AD%90%2F</url>
      <content type="text"><![CDATA[1 èµ·æºå¦‚æžœä½ çœ‹äº†ä¸Šä¸€ç¯‡æ–‡ç« å…³äºŽ Spliterator åˆ†å‰²è¿­ä»£å™¨ï¼Œæœ€åŽä¸€éƒ¨åˆ†è¯´åˆ°äº†å›¾ä¸­çš„ä¸¤ä¸ªå¼ºåˆ¶è½¬æ¢é€»è¾‘çš„ä¸åˆç†ä¹‹å¤„ã€‚ ç¬¬ä¸€å¤„ï¼Œæˆ‘ä¼ å…¥çš„æ˜¯ä¸€ä¸ª Consumer æŽ¥å£ï¼Œä½†æ˜¯åˆ¤æ–­çš„æƒ…å†µå´æ˜¯åˆ¤æ–­ 1action instanceof IntConsumer è€Œ IntConsumer å’Œ Consumer æ˜¯æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„å¹³è¡Œå‡½æ•°å¼æŽ¥å£ã€‚è¿™æ ·çš„è½¬æ¢ä¸ºä½•ä¼šæˆåŠŸï¼Ÿ ç¬¬äºŒå¤„ï¼Œå½“ç¬¬ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ä¸æ»¡è¶³çš„æ˜¯æ—¶å€™ï¼Œä½¿ç”¨ï¼ˆIntConsumerï¼‰å¼ºè½¬ lambda è¡¨è¾¾å¼ï¼Œè¿™æ ·ä¸ºä½•èƒ½æˆåŠŸè¢«éœ€è¦ä¼ å…¥ IntConsumer å‡½æ•°æ‰€æŽ¥å—å‘¢ï¼Ÿ å¦‚ä¸‹å›¾ï¼š 2 å°è¯•è§£é‡Šçœ‹çœ‹å–½å…ˆçœ‹ç¬¬äºŒå¤„ï¼šlambdaè¡¨è¾¾å¼ä¹Ÿå¯ä»¥å¼ºè½¬ï¼Ÿæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªç±»ä¼¼çš„ä¾‹å­ï¼Œæœ‰ä¸€ä¸ªéœ€è¦ä¼ å…¥ Consumer çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°è¯•ä¼ å…¥ä¸€ä¸ª IntConsumer ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚ 1234567891011121314151617public class ConsumerTest &#123; public void test(Consumer&lt;? super Integer&gt; consumer) &#123; System.out.println(consumer instanceof IntConsumer); consumer.accept(100); &#125; public static void main(String[] args) &#123; ConsumerTest consumerTest = new ConsumerTest(); Consumer&lt;Integer&gt; consumer = i -&gt; System.out.println(i); IntConsumer intConsumer = i -&gt; System.out.println(i); consumerTest.test(consumer); // é¢å‘å¯¹è±¡çš„æ–¹å¼ consumerTest.test(consumer::accept); // å‡½æ•°å¼çš„æ–¹å¼ consumerTest.test(intConsumer::accept); // å‡½æ•°å¼çš„æ–¹å¼ &#125;&#125; è¿™ä¸ªä¾‹å­çš„è¾“å‡ºç»“æžœæ˜¯ï¼š æˆ‘ä»¬å‘çŽ°è¿™ä¸‰ç§ä¼ å…¥æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ï¼Œç¬¬ä¸€ç¬¬äºŒç§æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå› ä¸º Test æ–¹æ³•å°±æ˜¯éœ€è¦ä¼ å…¥ä¸€ä¸ª Consumerï¼Œ æ— è®ºä½ ä½¿ç”¨åŽŸæ¥ä¼ é€’å¯¹è±¡çš„æ–¹å¼ï¼Œè¿˜æ˜¯é€šè¿‡æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•ï¼Œéƒ½æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥è¢«æ‰§è¡Œã€‚ é—®é¢˜åœ¨äºŽï¼Œç¬¬ä¸‰ç§æ–¹å¼ 1consumerTest.test(intConsumer::accept); // å‡½æ•°å¼çš„æ–¹å¼ å½“ä½ æŒ‰ä½ command æŠŠé¼ æ ‡æ”¾åœ¨åŒå†’å·çš„æ—¶å€™ å‡ºçŽ°çš„å¦‚ä¸‹ï¼š å½“ä½ æŒ‰ä½ command æŠŠé¼ æ ‡æ”¾åœ¨çš„ accept æ—¶å€™ å‡ºçŽ°çš„å¦‚ä¸‹ï¼š åŒå†’å·ä»£è¡¨æ˜¯çš„å½“å‰ lambda è¡¨è¾¾å¼çš„ç±»åž‹ã€‚å› ä¸ºä½ çœ‹æˆ‘åˆå§‹åŒ–ä¸¤ä¸ªconsumerçš„ä»£ç  12Consumer&lt;Integer&gt; consumer = i -&gt; System.out.println(i);IntConsumer intConsumer = i -&gt; System.out.println(i); æˆ‘åŽé¢çš„è¡¨è¾¾å¼æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ä½†æ˜¯å´å¯ä»¥èµ‹äºˆä¸¤ä¸ªä¸åŒçš„ç±»åž‹ã€‚æ‰€ä»¥ï¼Œé‡ç‚¹æ¥äº† é‡ç‚¹æ˜¯ lambda è¡¨è¾¾å¼çš„ç±»åž‹ï¼Œæ˜¯è¦é ä¸Šä¸‹æ–‡è¿›è¡ŒæŽ¨æ–­çš„ã€‚ è¿™ä¸ªæ˜¯å’Œä¼ ç»Ÿé¢å‘çš„ç¼–ç¨‹ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚éœ€è¦æ³¨æ„ã€‚åˆšåˆšä¸Šé¢çš„ç¬¬ä¸‰ç§è°ƒç”¨çš„æ–¹å¼ï¼Œå°±æ˜¯å¦‚æ­¤ï¼Œç¼–è¯‘å™¨æŽ¨æ–­å‡ºï¼Œä½ è¿™ä¸ª lambda è¡¨è¾¾å¼ intConsumer::accept è‚¯å®šæ˜¯ Consumer&lt;T super Integer&gt; ç±»åž‹çš„ã€‚æ‰€ä»¥ä¸æŠ¥é”™è€Œè¿™ä¸ªæ—¶å€™å¦‚æžœä½ å‰é¢åŠ ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œå°±åƒæ–‡ç« ä¸€å¼€å§‹çš„é‚£å¼ å›¾çš„ç¬¬äºŒä¸ªå¼ºè½¬é€»è¾‘ä¸€æ ·ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡ï¼Œç•¥æ˜¾å¤šä½™å°±æ˜¯äº†ã€‚ åœ¨çœ‹ç¬¬ä¸€å¤„é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ï¼Œæ‰ä¼šå‡ºçŽ°ç¬¬ä¸€ç§æƒ…å†µï¼Œä¼ å…¥çš„æ˜¯ Consumer ï¼Œä½†å´åŒæ—¶æ˜¯ instanceof IntConsumer å‘¢ï¼Ÿ å¯¹äº†ï¼ï¼ˆå¯¹ä»€ä¹ˆå¯¹ï¼Œä½ åˆæ²¡æƒ³åˆ°ï¼‰å°±æ˜¯è¿™æ ·ï¼Œä½ åŒæ—¶ç»§æ‰¿è€…ä¸¤ä¸ªæŽ¥å£å°±å¯ä»¥äº†å‘€ï¼ ä¸Šä»£ç ï¼ 123456789101112131415161718192021222324252627282930313233343536/** * Created by charleszhu on 2017/5/2. */public class ConsumerTest &#123; // è¦æ±‚ä¼ å…¥ Consumer public void testInt(Consumer&lt;Integer&gt; consumer) &#123; // åˆ¤æ–­æ˜¯å¦ä¸º IntConsumer System.out.println(consumer instanceof IntConsumer); consumer.accept(100); &#125; public static void main(String[] args) &#123; ConsumerTest consumerTest = new ConsumerTest(); consumerTest.testInt(new MyConsumer2&lt;&gt;()); &#125;&#125;/** * åŒæ—¶å®žçŽ°ä¸¤ä¸ªæ–¹æ³• * @param &lt;Integer&gt; */class MyConsumer2&lt;Integer&gt; implements IntConsumer, Consumer&lt;Integer&gt; &#123; public void accept(int value) &#123; System.out.println(value); &#125; public void accept(Integer t) &#123; System.out.println(t); &#125;&#125; è¿è¡Œä¸€ä¸‹ç»“æžœï¼š å°±å¯ä»¥å‘çŽ°ï¼Œè¿™ä¸ªæ—¶å€™å°±å’Œå¼€å¤´çš„é‚£ä¸ªä¾‹å­ä¸­çš„ï¼Œç¬¬ä¸€å¤„è½¬æ¢ï¼š éœ€è¦ä¼ å…¥çš„æ˜¯ Consumer, ä½†æ˜¯ä¹Ÿæ˜¯ IntConsumer çš„å®žä¾‹ï¼Œå°±ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªåˆ¤æ–­äº† è‡³æ­¤ä¸¤ä¸ªå¼ºè½¬å°±è§£é‡Šå®Œæ¯•äº†ï¼ æ€»ç»“è¿™ä¸ªä¾‹å­æƒ³ç»™å¤§å®¶è¯´çš„å°±æ˜¯å‡½æ•°å¼æŽ¥å£çš„å¾ˆä¼ ç»Ÿçš„å‘½ä»¤å¼ç¼–ç¨‹è¿˜æ˜¯æœ‰ä¸€å®šå·®åˆ«çš„ã€‚å°¤å…¶æ˜¯ lambda è¡¨è¾¾å¼çš„ç±»åž‹æ˜¯è¦é ä¸Šä¸‹æ–‡æŽ¨æ–­çš„è¿™ä¸€ç‚¹ï¼Œéœ€è¦å¥½å¥½çš„ç†è§£~ åªæœ‰æ…¢æ…¢ç†è§£è¿™äº›ï¼Œæ‰èƒ½çœŸæ­£ç†è§£å‡½æ•°å¼ç¼–ç¨‹ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8 Stream è§£æž2 - Spliteratoråˆ†å‰²è¿­ä»£å™¨]]></title>
      <url>%2F2017%2F05%2F02%2Fjdk8-Stream-%E8%A7%A3%E6%9E%902-Spliterator%E5%88%86%E5%89%B2%E8%BF%AD%E4%BB%A3%E5%99%A8%2F</url>
      <content type="text"><![CDATA[æ¦‚è¿°è¯´å®ŒStream çš„ä¸€äº›æºç è§£æžã€‚æˆ‘ä»¬çœ‹ä¸‹æˆ‘ä»¬çš„ Stream æ˜¯å¦‚ä½•äº§ç”Ÿçš„ã€‚æˆ‘ä»¬æœ€ä¸ºå¸¸è§çš„æµçš„äº§ç”Ÿæ–¹å¼æ˜¯ collection.stream(), ä½ ç‚¹å¼€Stream()æ–¹æ³•, ä»–æ˜¯é€šè¿‡ Collection è¿™ä¸ªä¸Šå±‚æŽ¥å£ä¸¤ä¸ªjava8 æ–°å¢žç‰¹æ€§ default method è¿›è¡Œå®žçŽ°ã€‚ è¿™å°±ç‰µæ‰¯åˆ°ä¸€ä¸ªå…³é”®è¦ç‚¹ Spliterator ï¼šåˆ†å‰²è¿­ä»£å™¨ã€‚ æœ¬æ–‡ä¸»è¦æè¿° Spliterator çš„ä½œç”¨ï¼Œå¤§éƒ¨åˆ†æ¥æºäºŽä½ ä¸æ„¿æ„è¯»çš„ JavaDocã€‚ Spliterator æ˜¯ jdk8 éžå¸¸é‡è¦çš„æ¦‚å¿µã€‚é‡Œé¢çš„ç»†èŠ‚å¾ˆå€¼å¾—å­¦ä¹ çŽ©å‘³ã€‚ Spliterator å†—é•¿çš„JavaDoc è¯´äº†ä»€ä¹ˆï¼ŸåŸºæœ¬ä»‹ç»Spliterator æ˜¯ä¸€ä¸ªå¯¹æºï¼ˆæ•°ç»„ï¼Œé›†åˆï¼Œioæµç­‰ç­‰ï¼‰ä¸­å…ƒç´ è¿›è¡ŒéåŽ†å’Œåˆ†åŒºçš„ç±»ã€‚ å¯ä»¥é€šè¿‡ tryAdvance() æ–¹æ³•é€ä¸ªéåŽ†ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ forEachRemaining() æ–¹æ³•è¿›è¡ŒæŒ‰ bulk é€å—çš„éåŽ†ã€‚ï¼ˆå†…éƒ¨è°ƒç”¨çš„è¿˜æ˜¯tryAdvanceï¼‰ Spliterator æœ‰ç±»ä¼¼ Collector ä¸­çš„ characteristics , ä½†éƒ½æ˜¯ç”±åå…­è¿›åˆ¶æ¥è¡¨ç¤ºçš„ã€‚ SIZED :è¡¨ç¤ºå¤§å°å›ºå®š, Collectionå¸¸ç”¨ DISTINCT : åŽ»é‡, Setå¸¸ç”¨ SORTED : æœ‰é¡ºåºçš„ SortedSet ä¼šç”¨ç­‰ç­‰ åŽŸç”Ÿç±»åž‹çš„ç‰¹åŒ–ç‰ˆæœ¬ç‰¹åŒ–åˆ†å‰²è¿­ä»£å™¨ä¹Ÿè¢«æä¾›ï¼Œå’ŒStreamç±»ä¼¼ã€‚å‡å°‘è£…ç®±å’Œæ‹†ç®±çš„æ“ä½œ æ¯”è¿­ä»£å™¨Iterator æ›´åŠ é«˜æ•ˆçš„éåŽ†å…ƒç´ çš„æ–¹å¼æä¾›æ›´åŠ é«˜æ•ˆçš„æ–¹æ³•ï¼Œè¿›è¡Œæ•°æ®çš„è¿­ä»£ã€‚Iterator çš„ä½¿ç”¨éœ€è¦è°ƒç”¨ä¸¤ä¸ªç»„åˆæ–¹æ³• hasNext() ä»¥åŠ next() ï¼ŒåŒäº‹åœ¨å¤šçº¿ç¨‹è®¿é—®çš„æƒ…å†µä¸‹è¿˜ä¼šå‡ºçŽ°ç«žäº‰ï¼Œä½ éœ€è¦åŽ»åŒæ­¥ã€‚è€Œåˆ†å‰²è¿­ä»£å™¨ Spliterator ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ–¹å¼ï¼Œåªç”¨ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥åšåˆ°è¿™ä¸ªä¸¤ä¸ªå‡½æ•°åŠ¨ä½œã€‚å°±é¿å…äº†ç«žäº‰ ï¼Œå°±æ˜¯ tryAdvance() æ–¹æ³•ã€‚åŽé¢ä¼šä»‹ç» Spliteratorçš„æŽ¥å£æ–¹æ³•tryAdvance()åŒæ—¶åšäº† hasNext() ä»¥åŠ next() çš„å·¥ä½œã€‚ 1234/*** å¯¹ç»™å®šçš„å…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æžœæ»¡è¶³æ¡ä»¶å°±ä¼šæ‰§è¡Œ Action*/boolean tryAdvance(Consumer&lt;? super T&gt; action); forEachRemaining()æ˜¯ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼Œå¯¹ä½™ä¸‹çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œç›´åˆ°å…ƒç´ å…¨éƒ¨è¢«éåŽ†å®Œä¸€èˆ¬æƒ…å†µä¸‹å›žç›´æŽ¥è°ƒç”¨ä¸Šé¢çš„tryAdvance() æ–¹æ³•ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ›´å…·éœ€è¦è¿›è¡Œé‡å†™ã€‚1234567/*** å¯¹ä½™ä¸‹çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œç›´åˆ°å…ƒç´ å…¨éƒ¨è¢«éåŽ†å®Œ* å¦‚æžœæºæ˜¯æœ‰åºçš„ï¼ŒéåŽ†ä¹Ÿæ˜¯æœ‰åºçš„*/default void forEachRemaining(Consumer&lt;? super T&gt; action) &#123; do &#123; &#125; while (tryAdvance(action));&#125; è¿™é‡Œæœ‰ä¸€ç‚¹å¾ˆå€¼å¾—æ³¨æ„ï¼Œæ–¹æ³•ä½“ä¸­çš„ do {} æ˜¯ç©ºçš„ï¼Œè¿™ä¸ªæ˜¯å› ä¸º tryAdvance() æ–¹æ³•æœ¬èº«å°±å®Œæˆäº†ä¸¤ä¸ªæ“ä½œ hasNext() ä»¥åŠ next()ï¼Œæ‰€ä»¥æ–¹æ³•ä½“ä¸­ä¸éœ€è¦æœ‰ä»»ä½•æ“ä½œäº†ã€‚è¿™ä¸ªæ˜¯ å‡½æ•°å¼ç¼–ç¨‹å¸¦æ¥çš„å¥½å¤„ã€‚ä»¥åŠä¸Žå‘½ä»¤å¼ç¼–ç¨‹çš„åŒºåˆ«ã€‚ trySplit()å°è¯•åˆ‡åˆ†æºæ¥çš„ Spliteratorï¼Œ è¿”å›žçš„æ˜¯ï¼ˆæ³¨æ„ï¼ï¼ï¼ï¼‰è¿”å›žçš„æ˜¯ åˆ†å‰²å‡ºæ¥çš„é‚£ä¸€éƒ¨åˆ† æ•°æ®ï¼ŒåŽŸæœ‰çš„æ•°æ®é›†å°†ä¸åœ¨åŒ…å«è¿™éƒ¨åˆ†æ•°æ®é›†åˆã€‚ä¸¤è€… æ²¡æœ‰äº¤é›†ã€‚å‰©ä¸‹çš„å¯ä»¥ç»§ç»­åˆ†å‰²ï¼Œä¹Ÿè®¸ä¸å¯ä»¥ç»§ç»­åˆ†å‰²äº† ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘åŽŸæ¥æœ‰ 100ä¸ªå…ƒç´ ï¼Œæˆ‘é€šè¿‡ trySplit åˆ‡åˆ†å‡º 30 ä¸ªï¼Œä½œä¸ºä¸€ä¸ªæ–°çš„ åˆ†å‰²è¿­ä»£å™¨ è¿”å›žï¼ŒåŽŸæœ‰çš„ï¼Œå°±è¿˜å‰©ä¸‹ 70 ä¸ªã€‚ å¦‚æžœæ˜¯åŽŸæœ‰æ•°æ®é›†åˆæ˜¯ ORDERD çš„ï¼Œåˆ†å‡ºæ¥çš„ä¹Ÿæ˜¯æœ‰åºçš„ã€‚ é™¤éžå…ƒç´ æ•°é‡æ˜¯æ— ç©·çš„ï¼Œå¦åˆ™ï¼Œæœ€åŽä¸€å®šä¼šå‡ºçŽ°ä¸èƒ½åœ¨åˆ†å‰²çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›žçš„ç»“æžœæ˜¯ null 1Spliterator&lt;T&gt; trySplit(); estimateSize()ä¼°ç®—é›†åˆå‰©ä½™ç»™forEachRemainingå¤§å°ï¼Œä¸ä¸€å®šç²¾ç¡®ã€‚ä½†æ˜¯å¦‚æžœè¿™ä¸ª Spliterator æ˜¯ SIZEDï¼Œæ²¡æœ‰è¢«éåŽ†æˆ–è€… splitï¼Œ æˆ–æ˜¯ SUBSIZEDçš„ï¼Œæ²¡æœ‰è¢«éåŽ†ï¼Œé‚£ä¹ˆä»–è¿™ä¸ªå€¼ä¸€å®šæ˜¯å‡†ç¡®çš„ã€‚ 1long estimateSize(); è¿˜æœ‰ä¸ªä¸Žä¹‹ç›¸å…³çš„é»˜è®¤æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ã€‚123default long getExactSizeIfKnown() &#123; return (characteristics() &amp; SIZED) == 0 ? -1L : estimateSize(); &#125; characteristics()è¡¨ç¤ºé›†åˆçš„ç‰¹æ€§ï¼Œä¸€å…±8ä¸ªã€‚ åˆ†å‰²ä¹‹å‰ï¼Œè¿”å›žçš„ç»“æžœéƒ½æ˜¯ä¸€è‡´çš„ å¦‚æžœè¿”å›žç»“æžœä¸ä¸€è‡´ï¼Œåˆ™æ“ä½œæ˜¯ä¸å—ä¿è¯çš„ è€Œåˆ†å‰²ä¹‹åŽï¼Œä¸ä¿è¯ä¸€è‡´ æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•ç”¨äºŽåˆ¤æ–­ Spliterator æ˜¯å¦åŒ…å«è¿™ä¸ªç‰¹æ€§123default boolean hasCharacteristics(int characteristics) &#123; return (characteristics() &amp; characteristics) == characteristics; &#125; getComparatorå¦‚æžœæºæ˜¯SORTED ç±»åž‹çš„ï¼Œä¸”æœ‰æ¯”è¾ƒå™¨ Comparator çš„è¯ï¼Œåˆ™è¿”å›žè¿™ä¸ª Comparatorï¼Œå¦‚æžœæ˜¯SORTED ç±»åž‹çš„ï¼Œä½†æ˜¯æ²¡æœ‰æ¯”è¾ƒå™¨ï¼Œåˆ™è¿”å›ž null , é™¤æ­¤ä¹‹å¤–ï¼Œéƒ½æŠ›å‡ºå¼‚å¸¸ æŽ¥å£çš„é»˜è®¤æ–¹æ³•é‡Œï¼Œå°±æ˜¯æŠ›å‡ºäº†å¼‚å¸¸ 123default Comparator&lt;? super T&gt; getComparator() &#123; throw new IllegalStateException(); &#125; Spliteratorçš„8ä¸ªCharacteristics ç‰¹æ€§ORDEREDæºçš„å…ƒç´ æœ‰åºï¼ŒtryAdvance ï¼ŒforEachRemainingå’Œ trySplit éƒ½ä¼šä¿è¯æœ‰åºçš„è¿›è¡Œå…ƒç´ çš„å¤„ç† éœ€è¦æ³¨æ„ hashSet è¿™ç±» Collection æ˜¯ä¸ä¿è¯æœ‰åºçš„ æœ‰ORDERED ç‰¹æ€§çš„æ•°æ®ï¼Œåœ¨å¹¶å‘è®¡ç®—çš„æ—¶å€™å®¢æˆ·ç«¯ä¹Ÿè¦åšé¡ºåºé™åˆ¶çš„ä¿è¯ DISTINCTå¤ªç®€å•ï¼Œå”¯ä¸€æ€§ã€‚ ç±»ä¼¼ Set è¿™æ ·çš„ä¼ å…¥é›†åˆä¼šæ‹¥æœ‰è¿™æ ·çš„ç‰¹æ€§ SORTEDæœ‰è¿™ç§ç‰¹æ€§çš„ Spliterator ï¼Œæœ‰ä¸€ä¸ªç‰¹å®šçš„é¡ºåºã€‚æˆ–è€…æ˜¯æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¯æ¯”è¾ƒçš„ï¼Œæˆ–è€…æ˜¯æœ‰ç‰¹å®šçš„æ¯”è¾ƒå™¨ã€‚ æœ‰ SORTED ä¸€å®šä¼šæœ‰ ORDERED SIZEDæœ‰è¿™ç§å±žæ€§çš„ Spliterator åœ¨éåŽ†å’Œåˆ†å‰²ä¹‹å‰ï¼ŒestimateSize() è¿”å›žçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”æ˜¯å‡†ç¡®çš„ã€‚ NONNULLä¸ä¸º NULL, å¤§éƒ¨åˆ†å¹¶å‘çš„é›†åˆï¼Œé˜Ÿåˆ—ï¼ŒMap éƒ½å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç‰¹æ€§ã€‚ IMMUTABLEä¸å¯å˜çš„ã€‚å…ƒç´ éåŽ†æœŸé—´ä¸å¯ä»¥è¢« æ·»åŠ ï¼Œæ›¿æ¢ï¼Œåˆ é™¤ï¼ˆcannot be added, replaced, or removedï¼‰å¦åˆ™ï¼Œåº”è¯¥æŠ›å‡ºå¼‚å¸¸ã€‚ CONCURRENTæ”¯æŒå¹¶å‘æ“ä½œçš„ã€‚ é¡¶å±‚çš„ Spliterator ä¸å¯ä»¥ CONCURRENT ä¸Ž SIZEDã€‚ è¿™ä¸¤è€…æ˜¯ç›¸äº’å†²çªçš„ã€‚ ä½†æ˜¯åˆ†å‰²ä¹‹åŽçš„ Spliterator ï¼Œ å¯èƒ½æ˜¯ SIZEDï¼Œ é¡¶å±‚ä¸èƒ½å†³å®šåº•å±‚ SUBSIZEDä»ŽtrySplit()è¢«åˆ†å‰²åŽçš„æ‰€æœ‰åˆ†å‰²è¿­ä»£å™¨éƒ½æ˜¯ SIZED ä»¥åŠ SUBSIZED çš„ã€‚å¦‚æžœåˆ†å‰²åŽï¼Œæ²¡æœ‰æŒ‰ç…§è¦æ±‚è¿”å›žSIZED ä»¥åŠ SUBSIZED å±žæ€§ï¼Œé‚£ä¹ˆæ“ä½œæ˜¯ä¸è¢«ä¿è¯çš„ï¼Œä¹Ÿå°±æ˜¯ç»“æžœä¸å¯é¢„æµ‹ã€‚ è¿™ä¸ªå±žæ€§å’Œ SIZED çš„åŒºåˆ«å°±æ˜¯ï¼Œ SIZED ä¸ä¿è¯ SUBSIZEDã€‚è€Œ SUBSIZED ä¼šè¦æ±‚ä¿è¯ SIZED å†…éƒ¨ç‰¹åŒ–è€Œåšçš„å‡½æ•°å¼æŽ¥å£ (OfPrimitive)é™¤äº†ä¸Šé¢çš„å‡½æ•°ï¼Œä»¥åŠç‰¹æ€§ï¼ŒSpliterator è¿­ä»£å™¨ä¸­ï¼Œè¿˜æœ‰å‡ ä¸ªå®šä¹‰åœ¨å†…éƒ¨çš„æŽ¥å£ã€‚ OfPrimitive é‡è½½äº†ï¼ˆoverloadsï¼‰äº† Spliterator çš„æ–¹æ³•ã€‚ç”¨äºŽå®žçŽ°ç‰¹åŒ–çš„åˆ†å‰²è¿­ä»£å™¨ã€‚ overloadsï¼šè¿”å›žç±»åž‹åç§°ä¸€è‡´ï¼Œå‚æ•°ä¸ä¸€è‡´ã€‚æ³¨æ„ä¸Ž override çš„åŒºåˆ« ä¸€ä¸ªé¢ è¦†é¢å‘å¯¹è±¡ç¼–ç¨‹å¸¸è¯†çš„çŽ°è±¡è¯·å¤§å®¶çœ‹å›¾ è¿™ä¸¤æ¬¡ç±»åž‹è½¬æ¢å¥‡æ€ªçš„åœ°æ–¹æ˜¯ï¼š IntConsumer ä¸Ž Consumer ä¸¤ä¸ªæŽ¥å£ï¼Œæ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œä¸¤ä¸ªæŽ¥å£æ˜¯å¹³è¡Œçš„ã€‚ è¿™æ ·çš„è½¬æ¢ï¼Œåœ¨ä¹‹å‰æ˜¯ä¸å¯èƒ½æˆåŠŸçš„ã€‚ ç®€ç›´æ˜¯é¢ è¦†è®¤çŸ¥å•Šï¼ æˆ‘æ‚„æ‚„è¯´å•Šï¼ˆå¹¶æ²¡æœ‰ã€‚ã€‚ä½ ä¹ŸåŸºæœ¬ä¸ä¼šå…³å¿ƒä¸æ˜¯ä¹ˆã€‚ã€‚ï¼‰ ä½†æ˜¯åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­èƒ½è½¬æ¢æˆåŠŸå‘¢ï¼Ÿ ä½ å¯ä»¥ç­‰æˆ‘ä¸‹ä¸€ç¯‡æ–‡ç« ~]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8 Stream & BaseStream æºç éš¾ç‚¹æµ…æž1]]></title>
      <url>%2F2017%2F05%2F02%2Fjdk8-Stream-BaseStream-%E6%BA%90%E7%A0%81%E9%9A%BE%E7%82%B9%E6%B5%85%E6%9E%901%2F</url>
      <content type="text"><![CDATA[æ¦‚è¿° ç®€è¦ä»‹ç» Stream çš„ javadocï¼Œä¸Žé›†åˆçš„å…³ç³»ä»¥åŠåŒºåˆ«ï¼Œä¸€äº›é‡è¦çš„æ³¨æ„äº‹é¡¹ éš¾æ‡‚çš„ Stream ç±»çš„å£°æ˜Žï¼Œä»‹ç»æ¯”è¾ƒéš¾æ‡‚çš„ onClose() æ–¹æ³•çš„è°ƒç”¨ Streamçš„javadocStream çš„ä½œç”¨ä¸Žç‰¹åŒ–ç‰ˆæœ¬Stream æ˜¯å¯¹ä¸€ä¸ªåºåˆ—åš ä¸²è¡Œ æˆ–è€… å¹¶è¡Œ èšåˆæ“ä½œã€‚ä»–ç»§æ‰¿è‡ª StreamStream åŒæ—¶è¿˜æœ‰å‡ ä¸ªç‰¹åŒ–çš„ç‰ˆæœ¬ ï¼ŒIntStream , LongStream, DoubleStream. ä»–ä»¬ä¸ºäº†å‡å°‘æµæ“ä½œçš„æ—¶å€™ä¸€äº›ä¸å¿…è¦çš„è£…ç®±å’Œæ‹†ç®±çš„æ“ä½œã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸Šå››ä¸ª Stream æ˜¯å¹³è¡Œå…³ç³»ï¼Œä»–ä»¬éƒ½æ˜¯ç»§æ‰¿è‡ª BaseStream ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š 12345678910/*** å°†é›†åˆ widgets ä¸­çš„å…ƒç´ ä¸­çº¢è‰²çš„å…ƒç´ çš„é‡é‡æ±‚å’Œ* ç¬¬ä¸€æ­¥ filter() è¿‡æ»¤çº¢è‰²* ç¬¬äºŒæ­¥ mapToInt() æ‹¿å‡ºæ‰€æœ‰çš„Redçš„é‡é‡ï¼Œç”Ÿæˆä¸€ä¸ª IntStream* ç¬¬ä¸‰æ­¥ sum() æ±‚å’Œï¼Œå¹¶è¿”å›ž*/int sum = widgets.stream() .filter(w -&gt; w.getColor() == RED) .mapToInt(w -&gt; w.getWeight()) .sum(); Stream çš„ç»„æˆä¸Žç‰¹ç‚¹è¦æƒ³å®žçŽ°è®¡ç®—ï¼Œæ‰€æœ‰æ“ä½œï¼Œéƒ½ä¼šè¢«æ”¾å…¥ä¸€ä¸ª pipeline å½“ä¸­ï¼ˆç±»ä¼¼liunxï¼‰ä¸­çš„æ“ä½œã€‚ è€Œä¸€ä¸ªæµç®¡é“ï¼ˆpipelineï¼‰åŒ…å«ï¼š source(æº)ï¼š æ•°ç»„ï¼Œé›†åˆï¼Œè¿­ä»£å™¨ï¼ŒI/O æ“ä½œç­‰ç­‰ 0ä¸ªæˆ–è€…å¤šä¸ªä¸­é—´æ“ä½œï¼š å°†ä¸€ä¸ªæµè½¬æˆå¦å¤–ä¸€ä¸ªæµ 1ä¸ªç»ˆæ­¢æ“ä½œ : äº§ç”Ÿä¸€ä¸ªç»“æžœ(æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­çš„æ±‚å’Œ) or æˆ–è€…ä¿®æ”¹ä¼ å…¥å¯¹è±¡çš„å±žæ€§ã€‚ æµæ˜¯Lazyçš„æ‡’æƒ°çš„ï¼ï¼ ä½ ä¸åŠ  ç»ˆæ­¢æ“ä½œ æµçš„æ“ä½œï¼Œå°±ä¸ä¼šè¢«æ‰§è¡Œã€‚å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæ²¡æœ‰æœ€åŽçš„ Sum() å‡½æ•°ï¼Œå‰é¢çš„æ“ä½œæ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ã€‚ é›†åˆå’ŒStream çš„åŒºåˆ«é›†åˆï¼š æ³¨é‡å­˜å‚¨ï¼Œä¸»è¦è€ƒè™‘å…ƒç´ çš„è®¿é—®ä¸Žç®¡ç†Stream ï¼šæ³¨é‡è®¡ç®—ï¼Œä¸»è¦è€ƒè™‘ä»¥ä¸€ç§æè¿°æ€§ çš„è¯­è¨€æ¥å¯¹æºè¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œå¹¶å°†æ“ä½œèšåˆèµ·æ¥ã€‚ æµçš„æ³¨æ„äº‹é¡¹1 æµä¸­çš„æ“ä½œï¼Œéƒ½åº”æ˜¯å‡½æ•°å¼æŽ¥å£ï¼ˆlambdaè¡¨è¾¾å¼æˆ–è€…æ–¹æ³•å¼•ç”¨ï¼‰2 æµä¸èƒ½è¢«é‡ç”¨ï¼Œæ¯ä¸ªæµåªèƒ½åº”ç”¨ä¸€æ¬¡ã€‚æƒ³å†æ¬¡æ“ä½œä½ éœ€è¦é‡æ–°ç”Ÿæˆä¸€ä¸ªæµ 3 æµè™½ç„¶å®žçŽ°äº† AutoCloseable æŽ¥å£ï¼Œä½†æ˜¯å‡ ä¹Žæ‰€æœ‰çš„æµéƒ½æ˜¯ä¸ç”¨å…³é—­çš„ï¼Œå› ä¸ºä»–çš„æºå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯é›†åˆï¼Œè€Œé›†åˆæ˜¯ä¸ç”¨å…³é—­çš„ã€‚ é™¤éžæºæ˜¯ä¸€ä¸ª I/O Channelã€‚ æ¯”å¦‚ Files.lines() æ–¹æ³•ã€‚å¦‚æžœæ˜¯è¿™æ ·ï¼ŒStream å°±å¯ä»¥ç”³æ˜Žåœ¨ try-with-resources block ä¸­ã€‚å…³äºŽè¿™ä¸ª j7 æ–°æŽ¥å£çš„ä½¿ç”¨ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„ä¸€ç¯‡å…³äºŽ AutoCloseable çš„ä»‹ç» jdk1.7æ–°å¢žè‡ªåŠ¨å…³é—­æŽ¥å£AutoCloseable å¤šè¯´ä¸€å¥ï¼ŒFiles.lines() æ˜¯ j8 ä¸­æ–°å¢žçš„æ–¹æ³•ï¼Œæœ‰ç‚¹ç±»ä¼¼ python ä¸­ readlines() æ–¹æ³•ã€‚å¾ˆå¥½ç”¨ã€‚ Stream &amp; BaseStream è§£æžçœ‹ä¸æ‡‚çš„å£°æ˜Žæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ Stream ä»¥åŠ BaseStream çš„ç±»çš„å£°æ˜Ž 1234//Streampublic interface Stream&lt;T&gt; extends BaseStream&lt;T, Stream&lt;T&gt;&gt; //BaseStreampublic interface BaseStream&lt;T, S extends BaseStream&lt;T, S&gt;&gt; BaseStream ä¸­ï¼Œç¬¬äºŒä¸ªæ³›åž‹æ˜¯ S extends BaseStream&lt;T, S&gt; ï¼Œè€Œ Stream ä¸­ï¼Œç¬¬äºŒä¸ªæ³›åž‹æ˜¯ Stream&lt;T&gt;ï¼Œ æ­£å¥½æ˜¯æ»¡è¶³ extends BaseStream&lt;T, S&gt; çš„æ¡ä»¶çš„ï¼Œæ‰€ä»¥å¯ä»¥è¿™ä¹ˆå†™ã€‚ ä¸¤ä¸ªæ³›åž‹æœ‰æ²¡æœ‰æ„Ÿè§‰æœ‰ç‚¹æ™•ã€‚å…¶å®žæ¯”è¾ƒå¥½ç†è§£ã€‚ T è¿™ä¸ªæ³›åž‹å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æµä¸­å…ƒç´ çš„ç±»åž‹ S ï¼Ÿ å¦‚æžœä½ çœ‹è¿‡javadocçš„æè¿°ï¼Œæµçš„æ‰€æœ‰ä¸­é—´æ“ä½œï¼Œéƒ½ä¼šè¿”å›žä¸€ä¸ªæµï¼Œè€Œè¿™ä¸ªS å°±ä»£è¡¨ç€ä¸­é—´æ“ä½œè¿”å›žçš„æµçš„ç±»åž‹ã€‚æ¯”å¦‚æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªåœ¨ Stream ä¸­çš„æ–¹æ³•ï¼ˆå…¶ä»–æ–¹æ³•ä¸Žå…¶ä¸€è‡´ï¼‰ éš¾æ‡‚çš„ onClose() æ–¹æ³•ä¸Šé¢æˆ‘ä»¬çŸ¥é“ BaseStream å®žçŽ°äº† AutoCloseable æŽ¥å£ï¼Œä¹Ÿå°±æ˜¯ Close() æ–¹æ³•å¯ä»¥å¾—åˆ°è°ƒç”¨ã€‚ä½†æ˜¯ BaseStream ä¸­ï¼Œç»™æˆ‘ä»¬æä¾›äº†è¦ç»™OnClose() æ–¹æ³•ã€‚æˆ‘ä»¬çœ‹ä¸‹æˆªå›¾ è¿™ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯å½“ Close() æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ onClose()ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯æœ‰å‡ ä¸ªæ³¨æ„çš„ç‚¹ onColse() æ–¹æ³•ä¹Ÿè¿”å›žä¸€ä¸ªæµï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥å¤šæ¬¡è°ƒç”¨ã€‚ å¦‚æžœä½ å†™äº†å¤šä¸ªonClose() æ–¹æ³•ï¼Œå®ƒä¼šæŒ‰ç…§é¡ºåºè°ƒç”¨ã€‚ å‰ä¸€ä¸ª onClose() æ–¹æ³•é™¤äº†å¼‚å¸¸ä¸å½±å“åŽç»­ onClose æ–¹æ³•çš„ä½¿ç”¨ å¦‚æžœå¤šä¸ª onClose() æ–¹æ³•éƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œåªå±•ç¤ºç¬¬ä¸€ä¸ªå¼‚å¸¸çš„å †æ ˆï¼Œè€Œå…¶ä»–å¼‚å¸¸ä¼šè¢«åŽ‹ç¼©ï¼Œåªå±•ç¤ºéƒ¨åˆ†ä¿¡æ¯ ä¸Šä»£ç ï¼ï¼ï¼ï¼ï¼ï¼ 12345678910111213141516171819202122232425/** * Created by charleszhu on 2017/5/2. */public class StreamTestOnCloseTest &#123; public static void main(String[] args) &#123; List&lt;String&gt; testString = Arrays.asList(&quot;min&quot;, &quot;ge&quot;, &quot;da&quot;, &quot;shuaibi&quot;); /** * ä¸¤æ¬¡å…³é—­ * ä¸¤æ¬¡å¼‚å¸¸ * é¢„æœŸï¼šä¸¤æ¬¡å…³é—­è¾“å‡ºä¾æ¬¡æ‰“å‡ºï¼›ä¸¤æ¬¡å…³é—­å¼‚å¸¸åªæ‰“å°ä¸€æ¬¡å †æ ˆï¼Œå¦å¤–ä¸€æ¬¡åªå±•ç¤º */ try(Stream&lt;String&gt; stream = testString.stream()) &#123; stream.onClose(() -&gt;&#123; System.out.println(&quot;closing 1&quot;); // throw new NullPointerException(&quot;exception 1&quot;); &#125;).onClose(() -&gt; &#123; System.out.println(&quot;closing 2&quot;); throw new NullPointerException(&quot;exception 2&quot;); &#125;).forEach(System.out::println); &#125; &#125;&#125; ç»“æžœå¦‚ä¸‹å›¾ï¼š ä½ ä»¬æ˜Žç™½äº†å§ï¼ˆæˆ‘æ˜¯å¤©æ‰ï¼‰ å¥½æ‡‚çš„å…¶ä»–æ–¹æ³•BaseStream ä¸­æœ‰çš„ä¸€äº›å…¶ä»–æ–¹æ³•ï¼Œé™¤äº†åˆ†å‰²è¿­ä»£å™¨(åŽé¢ä¼šå•ç‹¬è¯´ï¼Œå› ä¸ºå¤ªé‡è¦) 1Spliterator&lt;T&gt; spliterator(); å…¶ä»–éƒ½æ¯”è¾ƒå¥½æ‡‚ã€‚å€¼å¾—ä¸€è¯´çš„æ˜¯ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š 12S sequential(); // è¿”å›žä¸²è¡ŒæµS parallel(); // è¿”å›žå¹¶è¡Œæµ ä½ å¯ä»¥çœ‹åˆ°ä»–ä»¬éƒ½è¿”å›žæµå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç»§ç»­è°ƒç”¨ sequential æˆ–è€… parallel æ–¹æ³•ã€‚ä½†æ˜¯ï¼ï¼ï¼ æ— è®ºä½ ä¸­é—´æ€Žä¹ˆè°ƒç”¨ ï¼Œæ¯”å¦‚ sequential.parallel.parallel.sequentialâ€¦. åªä»¥æœ€åŽä¸€ä¸ªä¸ºæœ€ç»ˆæµçš„ç±»åž‹ï¼ï¼ï¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk1.7æ–°å¢žè‡ªåŠ¨å…³é—­æŽ¥å£AutoCloseable]]></title>
      <url>%2F2017%2F05%2F02%2Fjdk1-7%E6%96%B0%E5%A2%9E%E8%87%AA%E5%8A%A8%E5%85%B3%E9%97%AD%E6%8E%A5%E5%8F%A3AutoCloseable%2F</url>
      <content type="text"><![CDATA[1 AutoCloseable æŽ¥å£è¿™æ˜¯JDK1.7 çš„æ–°å¢žè¯­æ³•ã€‚å¸®åŠ©ä½ è‡ªåŠ¨å…³é—­ä¸€äº›èµ„æºã€‚å¯èƒ½ä½ è¿˜ä¸çŸ¥é“è¿™ä¸ªæŽ¥å£ è¿™ä¸ªæŽ¥å£å¥½å°±å¥½åœ¨ï¼Œåªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œåå« close(), è€Œè¿™æ­£å¥½æœ‰æ˜¯æˆ‘ä»¬å„ä¸ªèµ„æºå…³é—­çš„æ–¹æ³•åï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥ç›¸å½“æ–¹ä¾¿ï¼Œå› ä¸ºåç§°ä¸€æ ·ï¼Œä»£ç å…¼å®¹ã€‚ JDK8 ä¸­å°±åœ¨å¾ˆå¤šåœ°æ–¹åº”ç”¨äº†è¿™ä¸ªæŽ¥å£ï¼Œæ¯”å¦‚ Stream ç»§æ‰¿äº† BaseStreamï¼Œè€Œ BaseStream åˆ™ç»§æ‰¿äº† AutoCloseable è¿™ä¸ªæŽ¥å£ã€‚ è¿™ä¸ªæŽ¥å£çš„è¯´æ˜Žå¾ˆæ¸…æ¥šï¼Œå½“ä½ åœ¨ä½¿ç”¨ try-with-resources block è¿™ç§è¯­æ³•è°ƒç”¨æ¥è¿›è¡Œèµ„æºèŽ·å–çš„æ—¶å€™ï¼Œåœ¨ block é€€å‡ºä¹‹åŽè‡ªåŠ¨å…³é—­ try-with-resources block ä»£ç å—ï¼Œå°±æ˜¯å°†èµ„æºçš„å£°æ˜Žï¼Œæ”¾åœ¨ try é‡Œé¢ï¼› å¯ä»¥çœ‹åŽé¢çš„ä»£ç ç¤ºä¾‹ ä½ ä¸ç”¨åƒä¹‹å‰å†™ finally{} ä»£ç é‚£æ ·çš„è¿›è¡Œå…³é—­ã€‚å°±ä¸ä¼šæœ‰èµ„æºæœªè¢«é‡Šæ”¾çš„é—®é¢˜ã€‚ 2 æµ‹è¯•ä»£ç ç®€å•æµ‹è¯•ä»£ç å¦‚ä¸‹ 1234567891011121314151617181920212223/** * Created by charleszhu on 2017/5/2. */public class AutoCloseAbleTest implements AutoCloseable&#123; public void doSth() &#123; System.out.println("doStm"); &#125; @Override public void close() throws Exception &#123; System.out.println("Close() çœ‹åˆ°æ²¡ï¼Œæˆ‘è¢«åŠäº†"); &#125; public static void main(String[] args) throws Exception &#123; /** * try-with-resources è¯­æ³•å— */ try(AutoCloseAbleTest autoCloseAbleTest = new AutoCloseAbleTest()) &#123; autoCloseAbleTest.doSth(); &#125; &#125;&#125; è¿è¡Œä¸€ä¸‹ï¼Œç»“æžœå¦‚ä¸‹ï¼š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è€ç‰ˆæœ¬MacBookPro (åŽšçš„) æ ¼å¼åŒ–, Uç›˜å®‰è£… MacOS Sierra]]></title>
      <url>%2F2017%2F05%2F01%2F%E8%80%81%E7%89%88%E6%9C%ACMacBookPro-%E5%8E%9A%E7%9A%84-%E6%A0%BC%E5%BC%8F%E5%8C%96-U%E7%9B%98%E5%AE%89%E8%A3%85-MacOS-Sierra%2F</url>
      <content type="text"><![CDATA[å¼•å­ä¸»è¦å†™çš„ç‚¹æ˜¯ï¼šU ç›˜å®‰è£…ç›˜çš„åˆ¶ä½œï¼Œä»¥åŠï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ canâ€™t be verified å·²æŸåï¼Œé‡æ–°ä¸‹è½½ è¿™äº›é—®é¢˜ï¼Œå³ä½¿ä½ æ˜¯ä»Ž app store ä¸­ä¸‹è½½çš„å®Œæ•´ç‰ˆæœ¬ã€‚ å‰ä¸¤å¤©ï¼Œæˆ‘ä¸€ä¸ªæœ‹å‹æ‹¿äº†ä¸€å°å¾ˆè€çš„ MacBook pro , è¯´ä»–ä¸å°å¿ƒæ ¼å¼åŒ–äº†ç¡¬ç›˜ï¼Œè¦æˆ‘é‡è£…ç³»ç»Ÿã€‚ã€‚ ç”µè„‘å›¾å¦‚ä¸‹ã€‚ã€‚ æœ‰ç‚¹æ´ç™–çš„æˆ‘çœ‹åˆ°äº†æƒ³è¯´è¯´ï¼Œè¦ä¸ä½ ç ¸äº†å§ï¼ˆå½“ç„¶æˆ‘æ²¡è¯´ã€‚ã€‚ï¼‰ä½†æ˜¯ç¢äºŽé¢å­ï¼ˆæ¯•ç«Ÿæˆ‘æ˜¯ç¨‹åºå‘˜ï¼Œå¤–ç•Œéƒ½è¯´æ˜¯æžç”µè„‘çš„ï¼Œçº¦ç­‰äºŽ ä¿®ç”µè„‘çš„ï¼Œè¿‘ä¼¼äºŽä½ æ˜¯ä¿®ç”µè„‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç”µè„‘ç›¸å…³çš„ä½ å…¨éƒ½ä¼šï¼Œä¸ä¼šå°±æ˜¯å¤§å‚»é€¼ï¼‰ã€‚ã€‚ æˆ‘å½“ç„¶æ˜¯å¾ˆæ„¤æ€’çš„ï¼Œä¹‹æ‰€ä»¥æ²¡æœ‰å‘ä½œæ˜¯å› ä¸ºä»–æ˜¯æˆ‘è€å¸ˆã€‚ã€‚ å¦‚ä½•åˆ¶ä½œå®‰è£…ç›˜å‡†å¤‡å·¥ä½œä½ éœ€è¦ä¸€ä¸‹ç‰©å“ï¼š ä¸€ä¸ªåªè¦8Gçš„Uç›˜ ä¸€å°å·¥ä½œè‰¯å¥½çš„ macbook pro è‰¯å¥½çš„ç½‘ç»œ æˆ‘ï¼ˆä½ æ²¡æˆäº†ï¼‰ è¨€å½’æ­£ä¼ ï¼š æ­¥éª¤ä¸€ ï¼š åœ¨App Store ä¸­ä¸‹è½½æœ€æ–°çš„ macosè¿žæŽ¥å¦‚ä¸‹ ä¸‹è½½åœ°å€å¥¹ä¼šè·³è½¬åˆ° app store. ç‚¹å‡»ä¸‹è½½å³å¯ã€‚å®ƒä¼šå¼¹å‡ºæç¤ºè®©ä½ æ›´æ–°å•¥çš„ï¼Œä¸ç”¨ç®¡å®ƒï¼Œç›´æŽ¥ä¸‹è½½ ä¸‹è½½å¥½äº†ä¹‹åŽï¼Œä½ åœ¨ä½ çš„ åº”ç”¨ç¨‹åº æ–‡ä»¶å¤¹ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªäº† è‡³æ­¤ï¼Œä½ çš„ç¬¬ä¸€ä»»åŠ¡å®Œæˆã€‚ æ­¥éª¤äºŒ ï¼šç”¨ç£ç›˜å·¥å…·æ ¼å¼åŒ–ä½ çš„Uç›˜æ‰“å¼€ â€œåº”ç”¨ç¨‹åº â†’ å®žç”¨å·¥å…· â†’ ç£ç›˜å·¥å…·â€ï¼Œå°†Uç›˜ã€ŒæŠ¹æŽ‰ã€(æ ¼å¼åŒ–) æˆã€ŒMac OS X æ‰©å±•ï¼ˆæ—¥å¿—å¼ï¼‰ã€æ ¼å¼ã€GUID åˆ†åŒºå›¾ï¼Œå¹¶å°†Uç›˜å‘½åä¸ºã€ŒSierraã€ã€‚(æ³¨æ„ï¼šè¿™ä¸ªç›˜ç¬¦åç§°å°†ä¼šä¸ŽåŽé¢çš„å‘½ä»¤ä¸€ä¸€å¯¹åº”ï¼Œå¦‚æžœä½ æ”¹äº†è¿™ç›˜ç¬¦çš„åå­—ï¼Œå¿…é¡»ä¿è¯åŽé¢çš„å‘½ä»¤é‡Œçš„åç§°ä¹Ÿè¦ä¸€è‡´ã€‚) å¦‚æžœä¸æˆåŠŸï¼Œä½ å°±å¤šè¯•å‡ æ¬¡ æ­¥éª¤ä¸‰ ï¼š åˆ¶ä½œå®‰è£…ç›˜æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤1sudo /Applications/Install\ macOS\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Sierra --applicationpath /Applications/Install\ macOS\ Sierra.app --nointeraction æ³¨æ„ç©ºæ ¼å‰é¢éœ€è¦æœ‰ \ è¿›è¡Œè½¬ä¹‰ è€å¿ƒå¾—åˆ° done, ä½ å°±å¯ä»¥æ‹¿ç€ U ç›˜åŽ»å®‰è£…äº† æ— æ³•éªŒè¯ï¼Ÿor å·²ç»æŸåï¼Ÿé‡è£…çš„æ­¥éª¤ç®€å•ï¼Œæ’å…¥uç›˜ï¼Œå¼€æœºæŒ‰ä½ option, é€‰æ‹©u ç›˜çš„å®‰è£…ç›˜ã€‚æŽ¥ä¸‹æ¥é€‰æ‹©å®‰è£…å°±å¯ä»¥äº†ã€‚ ä½†æ˜¯ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéƒ½ä¼šé‡åˆ°ç±»ä¼¼ This copy of the Install OS X El Capitan application canâ€™t be verified. It may have been corrupted or tampered with during downloading æˆ–è€…ï¼Œç›´æŽ¥å‘Šè¯‰ä½ æŸåäº†ï¼Œè®©ä½ å†åŽ»ä¸‹è½½å®Œæ•´ç‰ˆæœ¬ã€‚ å¯¼è‡´è¿™ä¸ªçš„åŽŸå› æ˜¯ï¼Œå½“ä½ å†³å®šå°†ä¸€å°macæ ¼å¼åŒ–åŽï¼Œåœ¨é‡è£…ç³»ç»Ÿçš„æ—¶å€™ï¼Œç³»ç»Ÿçš„æ—¶é—´å·²ç»è¢«æ”¹å˜äº†ã€‚è¿™ä¸ªæ—¶å€™å®‰è£…ç¨‹åºå°±ä¼šçˆ†å‡ºå„ç§é”™è¯¯ã€‚ä½ å¯ä»¥é€šè¿‡ ç»ˆç«¯è¾“å…¥ date è¿›è¡ŒæŸ¥çœ‹ï¼Œæ—¶é—´åº”è¯¥å˜æˆäº† 2001 å¹´ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œ ä½ åªè¦é€šè¿‡ date å‘½ä»¤é‡ç½®æ—¶é—´ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä»–çš„å‚æ•°å¦‚ä¸‹ 123456date MMDDHHmmYY replacing the letters as follows.MM - 2 digit month 01 - 12DD - 2 digit date 01 - 31HH - 2 digit hour 01 - 24mm - 2 digit minute 01 - 59YY - 2 digit year &gt; 15 ä½ å°†æ—¶é—´è®¾ç½®æˆï¼Œä½ è¦å®‰è£…çš„ç³»ç»Ÿå‘å¸ƒä¹‹åŽçš„ä¸€ä¸ªæ—¶é—´åŽï¼Œé€€å‡ºç»ˆç«¯ï¼Œå†æ¬¡ç‚¹å‡»æ“ä½œï¼Œå°±ä¸ä¼šæœ‰é—®é¢˜ã€‚ ä½ ä¹Ÿå¯ä»¥çœ‹åšè¿™ä¸ªè§†é¢‘ åœŸé€¼è§†é¢‘ ï¼Œéœ€è¦ç¿»å¢™ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-32-groupingBy æºç åˆ†æž]]></title>
      <url>%2F2017%2F04%2F30%2Fjdk8-32-groupingBy-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[jdk8 é›†åˆçš„å·¥åŽ‚ç±» Collectors æä¾›äº†ä¸¤ä¸ªå¾ˆå¥½ç”¨çš„é™æ€å‡½æ•°ã€‚ groupingBy partitioningBy groupingBy å®žçŽ°ç±»ä¼¼ Mysql ä¸­åˆ†åˆ†ç»„åŠŸèƒ½ã€‚è¿”å›žä¸€ä¸ª Map; è€Œ partitioningByå¯ä»¥çœ‹åšæ˜¯ groupingBy çš„ç‰¹æ®Šå½¢å¼ã€‚æˆ‘ä»¬åŽé¢ä¼šæŽ¥ç€ä»‹ç»ã€‚ ä½¿ç”¨çš„æ˜¯æ¯”å¦‚ç»Ÿè®¡æ¯ä¸ªåŸŽå¸‚äººçš„â€œå§“â€ï¼Œå¯ä»¥è¿™ä¹ˆå†™ 1Map&lt;City, Set&lt;String&gt;&gt; namesByCity = people.stream().collect(groupingBy(Person::getCity, mapping(Person::getLastName, toSet()))); é‚£ä¹ˆï¼Œä»–åˆ°åº•å¦‚ä½•åˆ©ç”¨ Collector çš„å„ä¸ªæŽ¥å£æ¥å®žçŽ°çš„å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬å°†æ·±å…¥ JDK çš„ Collectors çš„æºç ä¸­ï¼Œåˆ†æžä¸€ä¸‹ä»–æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ groupingBy1 ç¬¬ä¸€ä¸ªé‡è½½æ–¹æ³•, è¦ç®€å•å°±åˆ«é‚£ä¹ˆå¤šè¦æ±‚ï¼Œç»™ä½ ä¸ªListä¸é”™äº†åˆ†ç»„ groupingBy æœ‰ä¸‰ä¸ªé‡è½½æ–¹æ³•ã€‚ä¸€ä¸ªæ¯”ä¸€å¤æ‚ã€‚ å…ˆçœ‹æœ€ç®€å•çš„ 12345678/** * @param &lt;T&gt; the type of the input elements * @param &lt;K&gt; the type of the keys*/public static &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier) &#123; return groupingBy(classifier, toList()); &#125; è¿™é‡Œ T æ˜¯è¾“å…¥é›†åˆçš„å…ƒç´ ç±»åž‹ï¼Œ K æ˜¯æœ€åŽäº§ç”Ÿçš„ Map çš„ä¸»é”®key çš„ç±»åž‹ã€‚ å‡½æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ª Function çš„å‡½æ•°å¼æŽ¥å£ï¼ŒFunction çš„ä¸­ä½œå°±æ˜¯åˆ†ç±»å™¨ï¼Œæ¯”å¦‚ä¼ å…¥çš„ç±»åž‹æ˜¯T æ˜¯ä¸€ä¸ª Personç±»åž‹ ï¼Œ é€šè¿‡ apply() æ–¹æ³•ï¼Œè¿”å›ž Person çš„å±žæ€§ nameï¼›å› ä¸ºæˆ‘ä»¬è¦æŒ‰ç…§ name æ¥åˆ†ç»„ã€‚ æ‰€ä»¥ï¼Œå¦‚æžœ name çš„ç±»åž‹æ˜¯ String ï¼› é‚£ä¹ˆ K å°±æ˜¯ String æ•…è€Œï¼Œè¿™ä¸ª groupingBy(function) çš„åŠŸèƒ½å°±å¾ˆæ¸…æ™°äº†ï¼Œå°±æ˜¯é€šè¿‡ function å¯¹ä¼ å…¥çš„ T ç±»åž‹è¿›è¡Œåˆ†ç±»ã€‚ç„¶åŽè°ƒç”¨ toList() æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªåˆ†ç±»çš„Person ä¼šæ”¾è¿›ä¸€ä¸ª List&lt;Person&gt; ä¸­ æœ€ç»ˆè¿”å›žçš„ç±»åž‹å°±æ˜¯ Map&lt;String, List&lt;Person&gt;&gt;. è€Œå¦‚æžœä½ ä¸æƒ³è¿”å›žçš„æ˜¯ä¸€ä¸ªList , å¸Œæœ›æ˜¯ä¸€ä¸ª Set. ä½ å°±è¦ä½¿ç”¨ç¬¬äºŒä¸ªé‡è½½æ–¹æ³•~ ä»–å…è®¸ä½ å®šä¹‰æœ€åŽçš„è¾“å‡ºå‡½æ•°ã€‚ 2 ç¬¬äºŒä¸ªé‡è½½æ–¹æ³•ï¼šæˆ‘è¦è¾“å‡ºSetçœ‹ä¸€ä¸‹å‡½æ•°çš„å®šä¹‰ï¼š 12345678910111213/** * @param &lt;T&gt; the type of the input elements * @param &lt;K&gt; the type of the keys * @param &lt;A&gt; the intermediate accumulation type of the downstream collector * @param &lt;D&gt; the result type of the downstream reduction * @param classifier a classifier function mapping input elements to keys * @param downstream a &#123;@code Collector&#125; implementing the downstream reduction*/public static &lt;T, K, A, D&gt; Collector&lt;T, ?, Map&lt;K, D&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier, Collector&lt;? super T, A, D&gt; downstream) &#123; return groupingBy(classifier, HashMap::new, downstream); &#125; è¿™ä¸ªå‡½æ•°ï¼Œæ˜Žæ˜¾æ¯”ä¸Šä¸€ä¸ªè¦å¤æ‚ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¤šäº†ä¸€ä¸ª Collector çš„ downstream , å¯ä»¥è‡ªå®šä¹‰è¾“å‡ºçš„é›†åˆã€‚ä¸Šé¢é‚£ä¸ªç®€å•ç‰ˆæœ¬çš„å‡½æ•°æ˜¯æ˜¯å†™æ­»çš„ List è¿™ä¸ªå‡½æ•°æœ‰å››ä¸ªæ³›åž‹ã€‚ T åŽŸå§‹å…ƒç´ ç±»åž‹ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™æ˜¯ Person K è¿”å›ž Map çš„ key, å³æœ€ç»ˆè¿”å›žçš„Map çš„å»ºçš„ç±»åž‹ã€‚å¦‚æžœä½ æƒ³æŒ‰ç…§äººçš„åå­—åˆ†ç±»ï¼Œé‚£Tå°±æ˜¯ String, å¦‚æžœæŒ‰ç…§å¹´é¾„åˆ†ç±»ï¼Œé‚£å°±æ˜¯ Interger A æ˜¯ downstream çš„ accumulation çš„ä¸­é—´ç»“æžœç±»åž‹ D æ˜¯æœ€ç»ˆè¾“å‡º Map çš„ Value çš„ç±»åž‹ã€‚æ¯”å¦‚ List æˆ–è€… Set è¿™ä¸ªæ–¹æ³•ä¼šè°ƒç”¨ç¬¬ä¸‰ä¸ªé‡è½½å‡½æ•°ï¼Œæ¯”ç¬¬äºŒä¸ªå‡½æ•°ï¼Œå¤šäº†ä¸­é—´çš„ HashMap::newï¼› è¿™ä¸ªæ˜¯æœ€ç»ˆè¿”å›žçš„ Map çš„ç±»åž‹ï¼Œè¿™é‡Œå†™æ­»çš„æ˜¯ HashMap, å¦‚æžœä½ æƒ³ç”¨å…¶ä»–ç±»åž‹ï¼Œå°±éœ€è¦ä½¿ç”¨æœ€ç»ˆçš„ä¹Ÿæ˜¯æœ€å¤æ‚çš„ç¬¬ä¸‰ä¸ªé‡è½½å‡½æ•°ã€‚ è¶Šæ˜¯ä½ ç”¨èµ·æ¥ç®€å•çš„å‡½æ•°ï¼ŒèƒŒåŽçš„å®žçŽ°å°±è¶Šæ¥è¶Šå¤æ‚ã€‚ 3 ç¬¬ä¸‰ä¸ªé‡è½½æ–¹æ³•: èƒ½çœ‹æ‡‚å°±éšä¾¿ä½ æ€Žä¹ˆçŽ©12345678910111213141516171819202122232425262728293031323334353637383940414243/*** @param &lt;T&gt; the type of the input elements* @param &lt;K&gt; the type of the keys* @param &lt;A&gt; the intermediate accumulation type of the downstream collector* @param &lt;D&gt; the result type of the downstream reduction* @param &lt;M&gt; the type of the resulting &#123;@code Map&#125;* @param classifier a classifier function mapping input elements to keys* @param downstream a &#123;@code Collector&#125; implementing the downstream reduction* @param mapFactory a function which, when called, produces a new empty* &#123;@code Map&#125; of the desired type*/ public static &lt;T, K, D, A, M extends Map&lt;K, D&gt;&gt; Collector&lt;T, ?, M&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier, Supplier&lt;M&gt; mapFactory, Collector&lt;? super T, A, D&gt; downstream) &#123; Supplier&lt;A&gt; downstreamSupplier = downstream.supplier(); BiConsumer&lt;A, ? super T&gt; downstreamAccumulator = downstream.accumulator(); BiConsumer&lt;Map&lt;K, A&gt;, T&gt; accumulator = (m, t) -&gt; &#123; K key = Objects.requireNonNull(classifier.apply(t), "element cannot be mapped to a null key"); A container = m.computeIfAbsent(key, k -&gt; downstreamSupplier.get()); downstreamAccumulator.accept(container, t); &#125;; BinaryOperator&lt;Map&lt;K, A&gt;&gt; merger = Collectors.&lt;K, A, Map&lt;K, A&gt;&gt;mapMerger(downstream.combiner()); @SuppressWarnings("unchecked") Supplier&lt;Map&lt;K, A&gt;&gt; mangledFactory = (Supplier&lt;Map&lt;K, A&gt;&gt;) mapFactory; if (downstream.characteristics().contains(Collector.Characteristics.IDENTITY_FINISH)) &#123; return new CollectorImpl&lt;&gt;(mangledFactory, accumulator, merger, CH_ID); &#125; else &#123; @SuppressWarnings("unchecked") Function&lt;A, A&gt; downstreamFinisher = (Function&lt;A, A&gt;) downstream.finisher(); Function&lt;Map&lt;K, A&gt;, M&gt; finisher = intermediate -&gt; &#123; intermediate.replaceAll((k, v) -&gt; downstreamFinisher.apply(v)); @SuppressWarnings("unchecked") M castResult = (M) intermediate; return castResult; &#125;; return new CollectorImpl&lt;&gt;(mangledFactory, accumulator, merger, finisher, CH_NOID); &#125; &#125; è¿™ä¸ªå‡½æ•°æœ‰5ä¸ªæ³›åž‹ï¼Œé™¤åŽ»ä¸Šé¢è¯´çš„ Tï¼ŒKï¼ŒAï¼ŒDå¤šäº†ä¸€ä¸ª mapFactory çš„ Supplier() , ç”¨äºŽå¾—åˆ°æœ€ç»ˆè¿”å›žçš„ Map çš„ç±»åž‹ï¼Œç¬¬äºŒä¸ªé‡è½½å‡½æ•°å†™æ­»çš„ HashMapï¼Œè¿™å°±å¯ä»¥è¿›è¡Œè‡ªå®šä¹‰ã€‚ è¿™ä¸ªå‡½æ•°æœ‰è¿žä¸ªå€¼å¾—æ³¨æ„çš„ç‚¹ï¼š æ‰€æœ‰çš„Collectors ä¸­å‡½æ•°ï¼Œå¦‚æžœå‡½æ•°å†…éƒ¨è¿˜è¦åšé›†åˆå¤„ç†çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨ downstream è¿™ç§æ¨¡å¼ï¼Œåˆ©ç”¨ downstream çš„å„ç§å·²æœ‰çš„çš„ Supplier Accumulatorç­‰ï¼Œä¿®æ”¹æ¥å®žçŽ°è‡ªå·±çš„åŠŸèƒ½ã€‚æ¯”å¦‚åœ¨ groupingBy è¿™ä¸ªå‡½æ•°ï¼Œä¸€å¼€å§‹å°±èŽ·å–äº† downstream çš„å„ä¸ªç»„ä»¶ï¼Œç»„åˆæˆè‡ªå·±éœ€è¦çš„æ”¶é›†å™¨ï¼Œè¿›è€Œç”¨äºŽå®Œæˆåˆ†ç±»çš„è¡Œä¸ºã€‚ï¼ˆä½ è¿˜å¯ä»¥åŽ»çœ‹ä¸€çœ‹ collectingAndThen() è¿™ä¸ªå‡½æ•°ï¼‰ groupingBy å‡½æ•°ä¸­æœ‰æœ‰ä¸¤å¤„å¼ºåˆ¶ç±»åž‹è½¬æ¢ã€‚è¿™é‡Œå…¶å®žå¾ˆéš¾ç†è§£ï¼Œä¸ºä½•å¯ä»¥ç›´æŽ¥æˆåŠŸçš„è½¬æ¢å‘¢ï¼Ÿ ç¬¬ä¸€å¤„ ç¬¬äºŒå¤„ ä¸¤å¤„å…¶å®žéƒ½æ˜¯å°†æœ€ç»ˆç»“æžœæ³›åž‹ D è½¬æˆ ä¸­é—´ç»“æžœ Aã€‚å¯¹äºŽç¬¬ä¸€å¤„ï¼Œ mapFactory æ˜¯ä½œä¸ºä¸€ä¸ª Supplier å‡ºçŽ°ï¼Œè€Œä»–çš„ç›®çš„æ˜¯æä¾›ä¸­é—´ç»“æžœç±»åž‹ï¼Œè€Œä»–ä¸Šé¢çš„ accumulator çš„ä¸­é—´ç»“æžœç±»åž‹ï¼Œå°±æ˜¯K,Aï¼Œ æ‰€ä»¥è¿™æ ·çš„å¼ºè½¬æ˜¯ä¸€å®šå¯ä»¥æˆåŠŸçš„ ç¬¬äºŒå¤„ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºå…¨ç§°éƒ½ä½¿ç”¨äº† Aï¼Œå…¶å®ž A å’Œ D åœ¨è¿™é‡Œï¼Œæ˜¯ç­‰ä»·çš„ã€‚æ‰€ä»¥è½¬æ¢éƒ½å¯ä»¥æˆåŠŸã€‚ ä½ åŽ»å¯ä»¥ä»Žè¿™ä¹ˆä¸€ä¸ªè§’åº¦æ€è€ƒé—®é¢˜ï¼š ä½ æœ€ç»ˆéœ€è¦ç”Ÿæˆ D ç±»åž‹ï¼Œä¸ºä½•ä¸­é—´è¦ç»™è‡ªå·±ç”Ÿæˆä¸€ä¸ªä¸ä¸€æ ·çš„ A ç±»åž‹æ·»å µå‘¢ï¼Ÿ ä½  4 ä¸ 4 saï¼Ÿ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-31-å·¥åŽ‚æ–¹æ³•æ”¶é›†å™¨Collectorsçš„ä¸­çš„å¸¸ç”¨å‡½æ•°]]></title>
      <url>%2F2017%2F04%2F13%2Fjdk8-31-%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%94%B6%E9%9B%86%E5%99%A8Collectors%E7%9A%84%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%2F</url>
      <content type="text"><![CDATA[1 collectorImpl Collectors ä¸­çš„ çš„åŸºç¡€ collectorImpl ä¸¤ä¸ªæž„é€ æ–¹æ³•ä¸€ä¸ªæœ‰ finisher(), ä¸€ä¸ªæ²¡æœ‰ã€‚è¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œä¸€ä¸ªéœ€è¦è½¬æ¢ä¸­é—´ç»“æžœï¼Œä¸€ä¸ªä¸­é—´ç»“æžœå’Œæœ€ç»ˆç»“æžœä¸€è‡´ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨ finisher() æ–¹æ³• 2 ä¸¤ç§å®žçŽ°æ–¹å¼å¯¹äºŽå·¥åŽ‚ç±» ä¸¤ç§å®žçŽ°æ–¹å¼ CollectorImpl æ¥å®žçŽ°ã€‚ reduceing æ¥å®žçŽ°ï¼Œ è€Œ reducing æ–¹æ³•å½’æ ¹è¿˜æ˜¯ç”¨çš„æ˜¯ CollectorImpl æ–¹æ³•æ¥å®žçŽ° 3 å¸¸è§å‡½æ•°1ï¼‰ toList() &amp; toCollection ä¸¤ä¸ªæœ€å¸¸ç”¨çš„æ–¹æ³• toList() &amp; toCollection toSet() æ–¹æ³•æ˜¯ä¹Ÿæ˜¯ toCollection çš„ç‰¹åŒ–ã€‚ 2ï¼‰ joining() joining ä¸‰ç§é‡è½½æ–¹æ³• 3ï¼‰ mapping() mapping() å°†è¾“å…¥å…ƒç´ è½¬æ¢æˆè¾“å‡ºå…ƒç´  1234Map&lt;City, Set&lt;String&gt;&gt; lastNamesByCity= people.stream().collect(groupingBy(Person::getCity,mapping(Person::getLastName, toSet()) // Mapping , å°†Person è½¬æ¢æˆString , æä¾›ç»™ä¸‹æ¸¸ Collector ä½¿ç”¨)); 4ï¼‰ collectingAndThen() collectingAndThen(Collector&lt;T,A,R&gt; downstream, Function&lt;R,RR&gt; finisher) å…ˆè¿‡å®Œä¸Šå±‚æ”¶é›†å™¨ downstream ï¼Œåœ¨è¿›è¡Œä¸€æ¬¡ finisher() è½¬æ¢ç»“æžœ æ¯”å¦‚è¯´ï¼Œä½ åœ¨ toList() ä¹‹åŽï¼Œæƒ³å°†å®ƒè½¬æ¢æˆä¸€ä¸ª immutableList() å°±å¯ä»¥å¦‚ä¸‹ä½¿ç”¨ List&lt;String&gt; people = people.stream().collect(collectingAndThen(toList(), Collections::unmodifiableList)); å®žçŽ°å…¶å®žå¾ˆæœ‰æ„æ€ 5ï¼‰ counting() , minBy() , maxBy() counting() , minBy() , maxBy() ç”¨ reducing() å®žçŽ°, reducing() åˆæ˜¯åŸºäºŽ CollectorImpl å®žçŽ° 6ï¼‰ summingInt() , averagingInt() , averagingDouble() summingInt() å¯¹æ¯ä¸€ä¸ªå…ƒç´ ä½¿ç”¨ toIntFunction åœ¨ç´¯åŠ ï¼Œå®žçŽ°å¾ˆæœ‰æ„æ€ Supplier() é‡‡ç”¨ç”Ÿæˆäº†ä¸€ä¸ª é•¿åº¦ä¸º1 çš„ int æ•°ç»„ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä½¿ç”¨çš„æ•´å½¢æ•°å­—ï¼Ÿå› ä¸ºæ•°å­—æ˜¯ä¸€ä¸ª å€¼ï¼Œ å€¼æ˜¯æ— æ³•ä¼ é€’çš„ï¼Œè€Œæ•°ç»„æ˜¯ä¸€ä¸ª å¼•ç”¨ï¼Œ å¼•ç”¨æ˜¯å¯ä»¥ä¼ é€’çš„ã€‚ averagingInt() æ±‚å¹³å‡å€¼ å¯¹äºŽaveragingDouble() çš„å®žçŽ°å¯ä»¥å†åŽ»çœ‹ä¸€ä¸‹ï¼Œä»–çš„åˆå§‹æ•°ç»„é•¿åº¦ä¸º4ï¼Œä»–ä»¬è§†ä¸ºæµ®ç‚¹æ•°è®¡ç®—çš„è¡¥å¿äº§ç”Ÿçš„ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-28-30-è‡ªå®šä¹‰æ”¶é›†å™¨&å‘]]></title>
      <url>%2F2017%2F04%2F12%2Fjdk8-28-30-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%94%B6%E9%9B%86%E5%99%A8-%E5%9D%91%2F</url>
      <content type="text"><![CDATA[æ”¶é›†å™¨ä¸­æœ‰å¾ˆ5ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæ¯ä¸ªæŠ½è±¡æ–¹æ³•éƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„ä½œç”¨ï¼Œå¦‚æžœè¯´æˆ‘ä»¬è¦è‡ªå·±å®žçŽ°è¦ç»™æ”¶é›†å™¨çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ†åˆ«å®žçŽ°ä¸‹é¢äº”ä¸ªæ–¹æ³•ã€‚ 1 ç®€å•è‡ªå®šä¹‰ä¸€ä¸ªæ”¶é›†å™¨è¿™ä¸ªæ”¶é›†å™¨çš„ç›®çš„æ˜¯å°†ä¸€ä¸ª list è½¬æ¢æˆä¸€ä¸ª set 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public class MySetCollector&lt;T&gt; implements Collector&lt;T, Set&lt;T&gt;, Set&lt;T&gt;&gt; &#123; @Override public Supplier&lt;Set&lt;T&gt;&gt; supplier() &#123; System.out.println("supplier invoked!!!"); return HashSet::new; &#125; @Override public BiConsumer&lt;Set&lt;T&gt;, T&gt; accumulator() &#123; System.out.println("accumulator invoked!!!"); return Set&lt;T&gt;::add; &#125; /** * å¹¶è¡Œæ€§æµæ‰ä¼šè°ƒç”¨ï¼Œå°†ä¸¤ä¸ªåˆ†æ®µçš„é›†åˆ * @return */ @Override public BinaryOperator&lt;Set&lt;T&gt;&gt; combiner() &#123; System.out.println("combiner invoked!!!"); return (t1, t2) -&gt; &#123; t1.addAll(t2); return t1; &#125;; &#125; @Override public Function&lt;Set&lt;T&gt;, Set&lt;T&gt;&gt; finisher() &#123; System.out.println("finisher invoked!!!"); return Function.identity(); &#125; /** * æè¿°è¿™ä¸ªé›†åˆçš„ç‰¹æ€§ * IDENTITY_FINISH è¡¨ç¤ºç»“æžœå®¹å™¨å’Œä¸­é—´å®¹å™¨æ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ªæ—¶å€™ JDK ä¼šåœ¨è¿”å›žçš„æ—¶å€™è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬åšç±»åž‹è½¬æ¢ã€‚è€Œä¸ç”¨å†åŽ»è°ƒç”¨ finisher * @return */ @Override public Set&lt;Characteristics&gt; characteristics() &#123; System.out.println("characteristics invoked!!!"); return Collections.unmodifiableSet(EnumSet.of(IDENTITY_FINISH,UNORDERED)); &#125; public static void main(String[] args) &#123; List&lt;String&gt; words = Arrays.asList("hello" , "world", "welcome", "hello"); Set&lt;String&gt; stringSet = words.stream().collect(new MySetCollector&lt;&gt;()); System.out.println(stringSet); &#125;&#125; å®žçŽ°ç±»é‡Œï¼Œæˆ‘ä»¬åˆ†åˆ«å®žçŽ°äº†5ä¸ªæ–¹æ³•ã€‚ å…¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸¤ä¸ªæ–¹å¼ finisher å’Œ characteristics æ–¹æ³• è¿™ä¿©æ–¹æ³•æ˜¯ç›¸äº’å½±å“çš„ã€‚é¦–å…ˆçœ‹ characteristics æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¦æ±‚è¿”å›žä¸€ä¸ª Characteristics æžšä¸¾ç±»åž‹å¯¹çš„ Setã€‚è€Œ Characteristics ä¸€å…±æœ‰ä¸‰ä¸ªæžšä¸¾å€¼ã€‚åˆ†åˆ«æœ‰ä¸åŒçš„å«ä¹‰ã€‚ 123456789101112131415161718/** * å½“æˆ‘ä»¬é‡‡ç”¨å¹¶è¡Œæµçš„æ—¶å€™ï¼ŒåŒæ—¶è®¾ç½®äº† CONCURRENT ä½œä¸ºè¿™ä¸ªæµçš„ç‰¹æ€§ * é‚£ä¹ˆï¼Œæ“ä½œçš„æ˜¯åŒä¸€ä¸ªé›†åˆï¼Œè€Œä¸æ˜¯å¤šä¸ª * åŒæ ·çš„é“ç†ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å¹¶è¡Œæµçš„æ–¹å¼ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å°±ä¼šç”Ÿæˆå¤šä¸ª * é›†åˆ */ CONCURRENT, /** * ä»£è¡¨é›†åˆæ˜¯å¦æ˜¯æœ‰åºçš„ */ UNORDERED, /** * è¡¨ç¤º finisher function å¯ä»¥è¢«çœç•¥ï¼Œå› ä¸ºä¸­é—´ç»“æžœå’Œæœ€åŽçš„è¿”å›žçš„ç»“æžœçš„ç±»åž‹æ˜¯ä¸€è‡´çš„ã€‚ * æ‰€ä»¥å½“æˆ‘ä»¬è®¾ç½®äº†è¿™ä¸ªå±žæ€§ä¹‹åŽï¼Œæˆ‘ä»¬å°±å¿…é¡»äº†è§£åˆ°ï¼Œ æœ€åŽçš„è¿”å›žçš„ç±»åž‹ï¼Œå¯ä»¥ç”±ä¸­é—´ç»“æžœç±»åž‹è¿›è¡Œå¼ºåˆ¶çš„è¿”å›žã€‚ */ IDENTITY_FINISH ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºæˆ‘ä»¬è‡ªå·±çš„ collector è®¾ç½®äº†ä¸¤ä¸ªå±žæ€§ï¼Œ IDENTITY_FINISH &amp; UNORDERED ; æ„æ€å°±æ˜¯è¿™ä¸ªæ”¶é›†å™¨æ”¶é›†çš„å…ƒç´ æ˜¯æ— åºçš„ã€‚ è€ŒåŒæ—¶ï¼Œè¿”å›žçš„ç±»åž‹å’Œä¸­é—´ç»“æžœç±»åž‹æ˜¯å¯ä»¥å®Œå…¨å¼ºåˆ¶è½¬æ¢çš„ï¼ˆå¦‚æžœä¸å¯ä»¥ï¼Œåˆ™ä¼šæŠ¥é”™ï¼Œä¸‹é¢ä¼šè¯´åˆ°ï¼‰ï¼›è€Œ finisher() å‡½æ•°æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ï¼Œå³ä½¿ä½ åœ¨å‡½æ•°å†…éƒ¨ç›´æŽ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæ ¹æœ¬ä¸ä¼šæ‰§è¡Œã€‚æ‰§è¡Œç»“æžœæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ï¼š è¿™é‡Œéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š è™½ç„¶ combiner() å‡½æ•°è¢«è°ƒç”¨äº†ï¼Œä½†æ˜¯åªæ˜¯è¿”å›žäº†ä¸€ä¸ª BinaryOperator è€Œå·²ï¼Œè€Œè¿™ä¸ª BinaryOperator å¹¶ä¸ä¼šè¢«è°ƒç”¨ã€‚ finisher() å‡½æ•°å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼ŒåŽŸå› ä¸Šé¢å·²ç»è¯´è¿‡ characteristics() å‡½æ•°è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ„æ€ å¯¹äºŽç¬¬3ç‚¹ï¼Œæˆ‘ä»¬è·Ÿè¿› collector() æºä»£ç é‡Œçœ‹ä¸€ä¸‹, ä¾¿ä¼šæœ‰ç­”æ¡ˆã€‚ å›¾ä¸­ä¹¦è¯´æ³•å…¶å®žä¸å‡†ç¡®ï¼Œå…¶å®žæ˜¯ evaluate æ–¹æ³•ä¸­çš„ ReduceOps.makeRef(collector) ä¸­ï¼Œä¼šé€ä¸ªè°ƒç”¨ç›¸å…³æ–¹æ³•ï¼Œ åŒ…æ‹¬ characteristics() æ–¹æ³•ã€‚ æ‰€ä»¥ characteristics() è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ç”¨äºŽåˆ¤æ–­ æ˜¯å¦æ˜¯æ— åºé›†åˆ ï¼›ç¬¬äºŒæ¬¡ç”¨äºŽåˆ¤æ–­ æ˜¯å¦éœ€è¦æ‰§è¡Œ finisher ç”¨äºŽä¸­é—´ç»“æžœå’Œæœ€ç»ˆç»“æžœçš„ç±»åž‹è½¬æ¢ 2 å½“ä¸­é—´ç»“æžœä¸Žè¿”å›žç»“æžœä¸ä¸€è‡´çœ‹ä¸‹é¢è¿™ä¸ªæ”¹é€ çš„è‡ªå®šä¹‰æ”¶é›†å™¨ï¼Œä¸­é—´ç»“æžœæ˜¯ä¸ª set è€Œè¿”å›žçš„æ˜¯ä¸ª mapï¼Œä¹Ÿå°±æ˜¯ä¸­é—´ç»“æžœå’Œæœ€ç»ˆæœ€ç»ˆç»“æžœæ˜¯ä¸ä¸€è‡´çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œfinisher å‡½æ•°å°±ä¼šæŽ’ä¸Šç”¨åœºäº†ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465public class MySetCollector2&lt;T&gt; implements Collector&lt;T, Set&lt;T&gt;, Map&lt;T,T&gt;&gt; &#123; @Override public Supplier&lt;Set&lt;T&gt;&gt; supplier() &#123; System.out.println("supplier invoked!!!!!"); return HashSet::new; &#125; @Override public BiConsumer&lt;Set&lt;T&gt;, T&gt; accumulator() &#123; System.out.println("accumulator invoked!!!!!"); return (set, item) -&gt; &#123; System.out.println(set); System.out.println("threadName: " + Thread.currentThread().getName()); set.add(item); &#125;;// return Set&lt;T&gt;::add; &#125; @Override public BinaryOperator&lt;Set&lt;T&gt;&gt; combiner() &#123; System.out.println("combiner invoked!!!!!"); return (set1, set2) -&gt; &#123; set1.addAll(set2); return set1; &#125;; &#125; @Override public Function&lt;Set&lt;T&gt;, Map&lt;T, T&gt;&gt; finisher() &#123; System.out.println("finisher invoked!!!!"); return set -&gt; &#123; Map&lt;T, T&gt; map = new HashMap&lt;&gt;(); set.stream().forEach(item -&gt; map.put(item, item)); return map; &#125;; &#125; /** * å½“æœ‰ Characteristics.CONCURRENT æ„å‘³ç€å¦‚æžœæœ‰å¹¶å‘ï¼Œåˆ™æ˜¯å¤šä¸ªçº¿ç¨‹æ“ä½œä¸€ä¸ªé›†åˆã€‚ * è¿™ä¸ªæ—¶å€™ accumulator å¦‚æžœæœ‰ éåŽ†æ“ä½œï¼Œå°±æœ‰å¯èƒ½ä¼šæŠ›å‡º ConcurrentModificationException * @return */ @Override public Set&lt;Characteristics&gt; characteristics() &#123; System.out.println("characteristics invoked!!!!"); return Collections.unmodifiableSet(EnumSet.of(Characteristics.UNORDERED, Characteristics.CONCURRENT)); &#125; public static void main(String[] args) &#123; for(int i = 0; i &lt; 100; i ++) &#123; List&lt;String&gt; words = Arrays.asList("hello", "word", "helloword", "hello", "a", "b", "c", "d", "e"); Set&lt;String&gt; set = new HashSet&lt;&gt;(); set.addAll(words); Map&lt;String, String&gt; map = set.parallelStream().collect(new MySetCollector2&lt;&gt;()); System.out.println(map); &#125; &#125;&#125; è¿™é‡Œç”±äºŽæˆ‘è¾“å‡ºä¸Žä¸­é—´ç»“æžœç±»åž‹å¹¶ä¸ä¸€è‡´ï¼Œæ‰€ä»¥å¦‚æžœæˆ‘åœ¨ characteristics() æ–¹æ³•ä¸­ï¼Œä¾æ—§ä½¿ç”¨ IDENTITY_FINISH ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç±»åž‹å¼ºè½¬ï¼Œåˆ™å¿…ç„¶æŠ¥é”™ï¼Œç±»åž‹è½¬æ¢å¼‚å¸¸ã€‚å¤§å®¶å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚ 3 å¹¶å‘ä¸Žå¹¶è¡Œçš„åŒºåˆ«-å¹¶è¡Œæ—¶å€™çš„ä¸€äº›å‘è¿™é‡Œï¼Œæœ‰å¦å¤–ä¸€ä¸ªå¾ˆè¦å‘½çš„å‘ã€‚ åœ¨è¯´è¿™ä¸ªæ¦‚å¿µä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹æ”¶é›†å™¨ä¸­ parallel å’Œ concurrent çš„åŒºåˆ« parallel æ˜¯å¹¶è¡Œï¼Œä¼šå°†äº§ç”Ÿå¤šä¸ªé›†åˆï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œï¼Œæœ€åŽåˆå¹¶ï¼Œä¹Ÿå°±æ˜¯ä¼šè°ƒç”¨ combiner() æ–¹æ³• concurrent æ˜¯å¹¶å‘ï¼Œ æ˜¯å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªé›†åˆè¿›è¡Œæ“ä½œï¼Œé¦–å…ˆ combiner() å‡½æ•°ä¸ä¼šè¢«æ‰§è¡Œï¼Œè€ŒåŒæ—¶ï¼Œå¦‚æžœä½ åœ¨ accumulator() å‡½æ•°ä¸­è¿›è¡Œç´¯åŠ æ“ä½œï¼Œåˆè¿›è¡ŒéåŽ†æ“ä½œï¼Œå°±ä¼šæŠ›å‡ºå¹¶å‘å¼‚å¸¸ã€‚ ç”¨ä¾‹å­è¯´è¯ï¼Œé¦–å…ˆæˆ‘ä»¬å¿…é¡»é‡‡ç”¨ å¹¶è¡Œæµ ï¼Œ åœ¨ accumulator() å‡½æ•°ä¸­éåŽ† set, åŒæ—¶å°† characteristics() å‡½æ•°ä¸­åŠ å…¥ CONCURRENT è¿™ä¸ªå±žæ€§ï¼Œä½ æ‰§è¡Œ100æ¬¡ï¼ŒåŸºæœ¬éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ åŽŸå› å¾ˆç®€ç­”ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼š ç¨‹åºé‡‡ç”¨äº†å¹¶è¡Œæµ set.parallelStream()ï¼ŒåŒæ—¶è®¾ç½®äº† CONCURRENT å±žæ€§ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªé›†åˆã€‚ è€Œåœ¨ accumulator() å‡½æ•°ä¸­åŒæ—¶éåŽ†äº†é›†åˆï¼Œä¹Ÿä¿®æ”¹äº†é›†åˆã€‚ç”±äºŽæ˜¯å¤šçº¿ç¨‹æ“ä½œï¼Œå¾ˆå¤§çš„æ¦‚çŽ‡å°±ä¼šå‘ç”Ÿä½ ä¸€è¾¹éåŽ†é›†åˆï¼Œä¸€éä¿®æ”¹ï¼Œå°±ä¼šæŠ¥é”™ã€‚é¡ºè¢«å¤§å®¶å¯çœ‹çœ‹ ConcurrentModificationException çš„ javadoc. è€Œå¦‚æžœï¼Œä½ ä¸æ·»åŠ  CONCURRENT è¿™ä¸ªå±žæ€§ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚å› ä¸ºä¼šç”Ÿæˆå¤šä¸ªä¸­é—´é›†åˆã€‚è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹é€  supplier() æ–¹æ³•ï¼Œåœ¨å…¶ä¸­ç­”åº”ä¸€æ¡è¯­å¥ï¼Œé€šè¿‡æ‰“å°äº†å‡ æ¡è¯­å¥ï¼Œå°±å¯ä»¥çœ‹å‡ºäº§ç”Ÿäº†å‡ ä¸ªé›†åˆã€‚ å½“ç„¶äº†ï¼Œå¦‚æžœä½ åœ¨ accumulator() ä¸­ä¸åŽ»æœ‰é‚£ä¸ªéåŽ†çš„æ“ä½œï¼Œä¹Ÿæ˜¯å³ä½¿ä½ æ·»åŠ äº† CONCURRENT å±žæ€§ï¼Œä¹Ÿæ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚å› ä¸ºä½ æ²¡æœ‰å¹¶å‘çš„å³éåŽ†åˆä¿®æ”¹ä¸€ä¸ªé›†åˆ è€Œä¸€èˆ¬äº§ç”Ÿå¤šå°‘é›†åˆï¼Œç”±äº§ç”Ÿå¤šå°‘ä¸ªçº¿ç¨‹å†³å®šï¼Œè€Œäº§ç”Ÿå¤šå°‘çº¿ç¨‹ä¸€èˆ¬ç”±æœºå™¨ç»è¿‡ è¶…çº¿ç¨‹ æŠ€æœ¯ä¹‹åŽæœ‰å¤šå°‘ä¸ªå¤„ç†å™¨è€Œç¡®å®šçš„ã€‚å½“ç„¶ä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œä½†æ˜¯ä¸€èˆ¬æ²¡æœ‰å¿…è¦ã€‚ 12// æŸ¥çœ‹æœ‰å¤šå°‘å¤„ç†å™¨Runtime.getRuntime().availableProcessors();]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-2-æµåˆæ­¥ä»¥åŠFunctionè¯¦è§£]]></title>
      <url>%2F2017%2F02%2F14%2Fjdk8-2-%E6%B5%81%E5%88%9D%E6%AD%A5%E4%BB%A5%E5%8F%8AFunction%E8%AF%A6%E8%A7%A3%2F</url>
      <content type="text"><![CDATA[ä¸€ æµåˆæ­¥java 8æä¾›ä¸€ç§æ›´åŠ æ–¹ä¾¿çš„æ“ä½œé›†åˆæ–¹å¼ï¼Œå³æµ~ StreamStreamçš„æ¦‚å¿µå…¶å®žç±»ä¼¼äºŽ liunx æ“ä½œç³»ç»Ÿçš„ä¸­çš„ PipeLine çš„æ¦‚å¿µï¼Œå¯ä»¥å°†æ•°æ®ä¼ è¾“ï¼› æµ åˆ†ä¸ºä¸¤ç§ï¼š ä¸­é—´æµï¼šæ•°æ®é€šè¿‡åŽè¿˜è¿”å›žä¸€ä¸ªæµï¼Œä¸æ˜¯æ•°æ®çš„ç»ˆç‚¹ èŠ‚ç‚¹æµï¼šæ•°æ®æµå…¥åŽä¸å†è¿”å›žæµï¼Œæ“ä½œç»“æŸï¼Œæ²¡æœ‰è¿”å›ž ä½¿ç”¨java8 ä¸­çš„ List æ¥å†™ä¸€ä¸ªä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­æ˜¯å°†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå…¨éƒ¨å˜ä¸ºå¤§å†™ï¼Œè€ŒåŽå°†å…ƒç´ é€ä¸€è¾“å‡º12345678910111213141516171819202122public class Test3 &#123; public static void main(String[] args) &#123; List&lt;String&gt; list1 = Arrays.asList("min.zhu", "yi.yu", "nai.nai");// list1.stream().map(item -&gt; item.toUpperCase()).forEach(item -&gt; System.out.println(item)); List&lt;String&gt; list2 = new ArrayList&lt;&gt;(); // æµçš„æ“ä½œæ–¹å¼ ç±»ä¼¼ linux çš„ç®¡é“åŠŸèƒ½ // æµ åˆ†ä¸ºï¼š ä¸­é—´æµ å’Œ èŠ‚ç‚¹æµ // map ç§°ä¹‹ä¸º æ˜ å°„ ä¸Ž mapper-reducer é˜¶æ®µçš„map åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œç»™å®šä¸€ä¸ªå€¼ï¼Œè¿”å›žä¼šä¸€ä¸ªç”±äºŽä¹‹æ˜ å°„çš„å€¼ list1.stream().map(item -&gt; item.toUpperCase()).forEach(item -&gt; list2.add(item)); // å‡½æ•°å¼•ç”¨çš„åšæ³• // String::toUpperCase å…¶å®ž å’Œ item -&gt; item.toUpperCase() /** * ä¸€è‡´ï¼Œéƒ½æ˜¯æœ‰è¾“å…¥æœ‰è¾“å‡ºï¼Œè€Œ toUpperCase çš„è¾“å…¥ï¼Œå°±æ˜¯è°ƒç”¨ä»–çš„å®žä¾‹å¯¹è±¡ * å› ä¸ºä¸€ä¸ªç±»æ˜¯æ— æ³•è°ƒç”¨ä»–çš„å®žä¾‹æ–¹æ³•çš„ï¼Œä¸€å®šæ˜¯å®žä¾‹æ‰å¯ä»¥è°ƒç”¨å®žä¾‹æ–¹æ³• */ list1.stream().map(String::toUpperCase).forEach(System.out::println); list1.stream().map(String::toUpperCase).forEach(list2::add); &#125;&#125; java8 çš„è°ƒç”¨æµçš„æ–¹å¼ï¼Œæ˜¯ä½¿ç”¨é›†åˆçš„ stream() æ–¹æ³•ï¼Œ è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªæµï¼Œä¹‹åŽå°±å¯ä»¥è°ƒç”¨ map() æ–¹æ³•å¯¹ list ä¸­çš„å…ƒç´ åšä¸€å®šçš„å¤„ç†ã€‚ map() å‡½æ•°ï¼Œè¿˜æ˜¯è¿”å›žäº†ä¸€ä¸ªæµï¼Œè¿™ä¸ªæµä¹Ÿæœ‰ forEach æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜å¯ä»¥è°ƒç”¨ forEach æ–¹æ³•å¯¹æµä¸­çš„æ•°æ®è¿›è¡Œé€ä¸€çš„å¤„ç†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒforEach å‡½æ•°ä¸­, éœ€è¦ä¼ é€’çš„å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ª Consumer çš„å‡½æ•°å¼æŽ¥å£ï¼Œè¿™ä¸ªæŽ¥å£çš„æŠ½è±¡æ–¹æ³• accpt() æ˜¯æ²¡æœ‰è¿”å›žå€¼çš„ï¼Œæ‰€ä»¥ï¼Œä»–ä¸åœ¨å¯ä»¥è¿”å›žä¸€ä¸ªå¯ä»¥ç»§ç»­æ“ä½œçš„æµã€‚ è€Œæˆ‘ä»¬åœ¨çœ‹çœ‹ map æ–¹æ³•ä¸­ï¼Œéœ€è¦ä¼ é€’çš„æ˜¯ä¸€ä¸ªæˆ‘ä»¬æ²¡æœ‰è§è¿‡çš„ Function çš„å‡½æ•°å¼æŽ¥å£ï¼Œè¿™ä¸ªå‡½æ•°å¼æŽ¥å£ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¾“å…¥å‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¿”å›žå€¼ã€‚ä»–çš„å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•ä¸­ï¼Œæ˜¯æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªå€¼ã€‚å…·ä½“è§ä¸‹å›¾ï¼Œå”¯ä¸€çš„æ–¹æ³•æ˜¯ apply æ–¹æ³•ï¼Œå®ƒæ˜¯æœ‰è¿”å›žå€¼çš„ï¼Œè¿™ä¸€ç‚¹å’ŒçŽ°å®žä¸­çš„å‡½æ•°å¾ˆåƒ æˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œjava8 ä¸­ï¼Œæ–°å¢žäº†å¾ˆå¤šä¸ªå‡½æ•°å¼æŽ¥å£ï¼Œåˆ†åˆ«ç”¨äºŽä¸åŒçš„åœºæ™¯å¦‚ä¹‹å‰è¯´çš„ Consumer æŽ¥å£ï¼Œä»–æ˜¯æ²¡æœ‰è¿”å›žå€¼çš„ä¸€ä¸ªåœºæ™¯ï¼Œä¸“ç”¨äºŽå¤„ç†æ•°æ®ä»¥åŠä»Šå¤©è¯´çš„æœ‰è¿”å›žå€¼çš„ Function æŽ¥å£ é‚£ä¹ˆè¿™ä¸ª Function çš„å‡½æ•°å¼æŽ¥å£ï¼Œå°±æ˜¯æˆ‘ä»¬ä»Šå¤©çš„é‡ç‚¹ã€‚ äºŒ Functon æŽ¥å£ ä»¥åŠ BiFunctionç®€ä»‹æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¾‹å­æ¥å®Œæ•´çš„è¯´æ˜Žé—®é¢˜ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142/** * å‡½æ•°å¼æŽ¥å£ Function çš„ç»å…¸æ¡ˆä¾‹ * jdk 8 æ–°å¢žå¾ˆå¤š å‡½æ•°å¼æŽ¥å£ * ä¹‹å‰çœ‹çš„ forEach æ–¹æ³•ä¸­çš„ Consumer æŽ¥å£ ï¼Œä»–çš„ä½œç”¨å°±æ˜¯ å¯¹ç»™å®šçš„å‚æ•°è¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œä¸è¿”å›žå€¼ * è€ŒçŽ°åœ¨çš„ ä»¥åŠ Test3 ä¸­æµçš„ map æ–¹æ³•ä¸­ Function æŽ¥å£ ï¼Œä»–å”¯ä¸€çš„æ“ä½œ æ˜¯apply , ä»–æœ‰è¿”å›žå€¼ï¼Œä¸€ä¸ªvalue ä¸€ä¸ª Return ï¼Œä¸ŽçŽ°å®žå½“ä¸­æ•°å­¦çš„å‡½æ•°å¾ˆç±»ä¼¼ * * jdk 8 ä¸­ï¼ŒæŽ¥å£ä¸­ é™¤äº†å¯ä»¥æœ‰ default æ–¹æ³•ä»¥å¤–ï¼Œ è¿˜å¯ä»¥æœ‰ä¸€ä¸ª static æ–¹æ³•ï¼Œ static æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤çš„å®žçŽ° * å¯ä»¥å‚è€ƒ Function è¿™ä¸ªå‡½æ•°å¼æŽ¥å£ */public class FunctionTest &#123; public static void main(String[] args) &#123; FunctionTest functionTest = new FunctionTest(); // å‡½æ•°å¼æŽ¥å£ï¼Œä»¥åŠ lambda è¡¨è¾¾å¼ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°æ“ä½œçš„æ—¶å€™ï¼Œä¼ é€’å‡½æ•°ï¼Œå³ä¼ é€’è¡Œä¸º // è€Œä¹‹å‰çš„ç¼–ç¨‹æ–¹æ³•ï¼Œè¡Œä¸ºå¿…é¡»å·²ç»ç¡®å®šï¼Œè€ŒåŽè¿›è¡Œè°ƒç”¨ // æ•…è€Œ ä¹‹å‰çš„ç¼–ç¨‹æ–¹æ³•ç§°ä¹‹ä¸ºå‘½ä»¤å¼ç¼–ç¨‹ï¼Œè€ŒåŽé¢çš„æ–¹æ³•ç§°ä¹‹ä¸º å‡½æ•°å¼ç¼–ç¨‹ // è€Œ å¯ä»¥ä¼ é€’ï¼Œæˆ–è€… è¿”å›žå‡½æ•°çš„å‡½æ•°ï¼Œç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ï¼ˆ js ä¸­éšå¤„å¯è§é«˜é˜¶å‡½æ•° System.out.println(functionTest.compute(1, item -&gt; 2 * item)); // è¿™ç§è¿”å›žæ–¹å¼æ˜¯ statement æ–¹æ³• // ä¸Šé¢é‚£ç§æ–¹å¼æ˜¯ expression æ–¹å¼ // ä¸€ä¸ªæ˜¯ä¸€ä¸ªæ ‡å‡†çš„è¯­å¥ï¼Œè€Œä¸€ä¸ªæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ /* * è¡¨è¾¾å¼æ˜¯ä¸éœ€è¦åˆ†å¥½ç»“å°¾çš„ * è€Œä½¿ç”¨ æ ‡å‡†è¯­å¥ï¼Œåˆ™å¿…é¡»è¦ ï¼› è€Œä¸”è¦ &#123;&#125; */ System.out.println(functionTest.compute(1, item -&gt; &#123;return 2 * item;&#125;)); System.out.println(functionTest.compute(2, item -&gt; item * item)); System.out.println(functionTest.convert("hello", item -&gt; item + " world !!")); &#125; public int compute(int value, Function&lt;Integer, Integer&gt; function) &#123; return function.apply(value); &#125; public String convert(String value , Function&lt;String, String&gt; function) &#123; return function.apply(value); &#125;&#125; ä¸»è¦åŽ»çœ‹ä»£ç çš„æ³¨é‡Šï¼Œä¸Šé¢å†™å®Œäº†æ‰€æœ‰é‡ç‚¹çš„å†…å®¹ï¼Œæˆ‘ä»¬å†åŽ»çœ‹çœ‹ Function è¿™ä¸ªå‡½æ•°å¼æŽ¥å£çš„å®žçŽ°ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œjava8 å…è®¸æŽ¥å£æœ‰ default æ–¹æ³•ï¼Œè€Œ Function æŽ¥å£ä¸­æœ‰ä¸¤ä¸ªé»˜è®¤æ–¹æ³•ï¼š åˆ©ç”¨è¿™ä¸ªä¸¤ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åšå‡½æ•°çš„ç»„åˆï¼Œç”¨ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºï¼Œä½œä¸ºä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ã€‚ compose æ–¹æ³•ï¼Œæ˜¯å…ˆæ‰§è¡Œ before è¿™ä¸ªfunction, åœ¨æ‰§è¡Œæœ¬èº«è¿™ä¸ªfunctionï¼› andThen æ–¹æ³•ï¼Œåˆ™æ˜¯å…ˆæ‰§è¡Œ Function æœ¬ä½“çš„ apply æ–¹æ³•ï¼Œåœ¨æ‰§è¡Œä¼ å…¥çš„ after çš„æ–¹æ³• æˆ‘ä»¬æ¥å†™ä¸ªä¾‹å­ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public class FunctionTest2 &#123; public static void main(String[] args) &#123; FunctionTest2 functionTest2 = new FunctionTest2(); // 12 System.out.println(functionTest2.compute(2, item -&gt; item * 3, item -&gt; item * item)); // 36 System.out.println(functionTest2.compute2(2, item -&gt; item * 3, item -&gt; item * item)); // 25 System.out.println(functionTest2.compute3(2, 3, (a,b)-&gt; a+b , result -&gt; result * result)); &#125; public int compute (int a, Function&lt;Integer, Integer&gt; function1, Function&lt;Integer, Integer&gt; function2) &#123; /** * compose å°±æ˜¯ å…ˆæ‰§è¡Œ function2.apply * å†å°† function2.apply çš„è¿”å›žå€¼ï¼Œä½œä¸º function1 çš„è¾“å…¥ * æ­¤æ—¶å†æ‰§è¡Œ function1 apply */ return function1.compose(function2).apply(a); &#125; public int compute2 (int a, Function&lt;Integer, Integer&gt; function1, Function&lt;Integer, Integer&gt; function2) &#123; /** * compose å°±æ˜¯ å…ˆæ‰§è¡Œ function1.apply * å†å°† function1.apply çš„è¿”å›žå€¼ï¼Œä½œä¸º function2 çš„è¾“å…¥ * æ­¤æ—¶å†æ‰§è¡Œ function2 apply */ return function1.andThen(function2).apply(a); &#125; /** * å¦‚æžœæƒ³åšæœ‰ä¸¤ä¸ªå‚æ•°çš„Function å°±éœ€è¦ä½¿ç”¨BiFunction * è€Œ BiFunction åªæœ‰ä¸€ä¸ª andThen , andThen çš„è¾“å…¥ æ˜¯ Functionï¼Œ * å› ä¸ºæ˜¯å°† Apply çš„ç»“æžœè¿”å›žï¼Œç»“æžœåªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ å‚æ•°åªèƒ½æ˜¯ Function , è€Œä¸æ˜¯ BiFunction * æ‰€ä»¥ BiFunction æ–¹æ³•ä¸å¯èƒ½æœ‰ compose æ–¹æ³• * * å¯¹åº”çš„ consumer ä¹Ÿæœ‰ç€ BiConsumer åŒæ—¶ï¼ŒäºŒè€…å› ä¸ºæ²¡æœ‰è¿”å›žå€¼ï¼Œæ‰€ä»¥ä¹Ÿåªå¯èƒ½æœ‰ andThen æ–¹æ³• * @return */ public int compute3 (int a, int b, BiFunction&lt;Integer, Integer, Integer&gt; biFunction, Function&lt;Integer, Integer&gt; function) &#123; return biFunction.andThen(function).apply(a,b); &#125; compose å’Œ andThen çš„åŠŸèƒ½å¯ä»¥ä»Žä¾‹å­ä¸­å¾ˆå¥½çš„çœ‹å‡ºæ¥ï¼Œä¾‹å­ä¸­è¿˜æœ‰ä¸€ä¸ªæ–°çš„æŽ¥å£å« BiFunction, è¿™ä¸ªå‡½æ•°å¼æŽ¥å£æ˜¯ç»™å®šä¸¤ä¸ªè¾“å…¥ï¼Œè¿”å›žä¸€ä¸ªè¾“å‡ºï¼Œè§£å†³äº†æœ‰ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°çš„é—®é¢˜ï¼Œå¯¹åº”çš„ï¼Œå…¶å®ž Comsumer æŽ¥å£ä¹Ÿè¿˜æœ‰ä¸€ä¸ªå¯¹åº”çš„ BiConsumer æŽ¥å£ã€‚ è€Œå½“æˆ‘ä»¬åŽ»è§‚å¯Ÿè¿™ä¿© Bi çš„æŽ¥å£ï¼Œéƒ½åªæœ‰ä¸€ä¸ª andThen çš„æŽ¥å£ï¼Œä¸ºå•¥æ²¡æœ‰ compose æ–¹æ³•å‘¢ï¼Ÿç»™è¯»è€…è‡ªå·±æ€è€ƒå§~]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-1.1-æ–¹æ³•å¼•ç”¨ï¼šlambdaè¡¨è¾¾å¼çš„è¯­æ³•ç³–]]></title>
      <url>%2F2017%2F02%2F12%2Fjdk8-1-1-%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8%EF%BC%9Alambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96%2F</url>
      <content type="text"><![CDATA[æ–¹æ³•åº”ç”¨å…¶å®žæ˜¯ jdk 8 ä¸­çš„å¯¹äºŽ lambda è¡¨è¾¾å¼ç»™äºˆçš„ä¸€ç§ è¯­æ³•ç³– è€Œæ–¹æ³•å¼•ç”¨ä¸€å…±åˆ†ä¸º 4 ç§ï¼› 1 ç±»å::é™æ€æ–¹æ³•å 2 å¯¹è±¡å::æ–¹æ³•å 3 ç±»å::å®žä¾‹æ–¹æ³•å 4 æž„é€ æ–¹æ³•å¼•ç”¨::new æˆ‘ä»¬æœ‰intellj ç¼–å†™ lambda è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨æ€»æ˜¯æ ‡é»„æ¥å‘Šè¯‰ä½ ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨çš„æ–¹æ³•æ¥è¿›è¡Œä»£ç çš„ç®€åŒ– è€Œæ–¹æ³•å¼•ç”¨ï¼Œmethod reference å…¶å®žå°±æ˜¯lambdaè¡¨è¾¾å¼ä¸€ç§è¯­æ³•ç³–ä½†æ˜¯ ä¸æ˜¯æ‰€æœ‰çš„ lambda è¡¨è¾¾å¼ï¼Œéƒ½å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨çš„æ–¹å¼æ¥ç¼–å†™å¤æ‚çš„ lambda è¡¨è¾¾å¼è¿˜æ˜¯éœ€è¦è€è€å®žå®žå†™ç›¸å…³ä»£ç  æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥åˆ†åˆ«è®²è§£è¿™å››ç§æ–¹æ³•å¼•ç”¨çš„æ–¹å¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667public static void main(String[] args) &#123; // ç¬¬ä¸€ç§ Student student1 = new Student("zhumin1",10); Student student2 = new Student("zhumin2",20); Student student3 = new Student("zhumin3",40); Student student4 = new Student("zhumin4",80); List&lt;Student&gt; students = Arrays.asList(student1, student2, student3, student4); // jdk 1.8 çš„æ–°æ–¹æ³• List ä¸­æ–°å¢žåŠ äº† sort æ–¹æ³• // ä¼ ç»Ÿçš„ lambda è¡¨è¾¾å¼ students.sort((studentP1, studentP2) -&gt; Student.compareByScore(studentP1, studentP2)); // ç¬¬ä¸€ç§æ–¹æ³•å¼•ç”¨çš„æ–¹å¼ ç±»å::é™æ€æ–¹æ³•å // ä¸éœ€è¦ä¼ å‚æ•°ï¼Œå› ä¸ºå¯ä»¥è‡ªåŠ¨æŽ¨æ–­å‡º Student ç±»åž‹ students.sort(Student::compareByScore); // ç¬¬äºŒç§ å¯¹è±¡åç§°::æ–¹æ³•åç§° // å…¶å®žå’Œç¬¬ä¸€ç§å¾ˆç±»ä¼¼ StudentComparator studentComparator = new StudentComparator(); students.sort((studentP1, studentP2) -&gt; studentComparator.comparator(studentP1, studentP2)); // å¯¹è±¡åç§°::æ–¹æ³•åç§° (æ–¹æ³•å¼•ç”¨çš„ç¬¬äºŒç§æ–¹å¼) students.sort(studentComparator::comparator); // ç¬¬ä¸‰ç§æ–¹æ³• ç±»å::å®žä¾‹æ–¹æ³• /** * æ¯”è¾ƒéš¾ç†è§£çš„çš„åœ°æ–¹æ˜¯ï¼Œä½ ä¼šçœ‹åˆ°è°ƒç”¨çš„å‡½æ•°ï¼Œå’Œ lambda è¡¨è¾¾å¼éœ€è¦çš„å‚æ•°ä¸ªæ•°ä¸ä¸€è‡´ï¼Œ ä¼šå°‘ä¸€ä¸ª * è€Œä¸”ç±»åæ˜¯æ²¡æ³•è°ƒç”¨æ–¹æ³•åçš„ * è€Œç†è§£æ–¹å¼æ˜¯ï¼šè°ƒç”¨æ–¹æ³•çš„å®žä¾‹ï¼Œå°±æ˜¯ä¼ å…¥lambda è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œå‰©ä¸‹æ‰€æœ‰å‚æ•°ï¼Œéƒ½ä½œä¸º è°ƒç”¨çš„å®žä¾‹æ–¹æ³• çš„å‚æ•° * æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ ï¼Œ Student ç±»è°ƒç”¨çš„æ˜¯å…¶çš„å®žä¾‹æ–¹æ³• compareï¼ˆStudentï¼‰ åªæœ‰ä¸€ä¸ªå‚æ•° * è€Œ List çš„é»˜è®¤æ–¹æ³•éœ€è¦çš„ Comparator çš„å‡½æ•°å¼æŽ¥å£éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œçœ‹ä¼¼å¯¹åº”ä¸ä¸Šï¼Œè€Œä¸”ï¼Œç±»åä¹Ÿæ— æ³•è°ƒç”¨å®žä¾‹æ–¹æ³• * å®žé™…æ˜¯ï¼Œä¼ å…¥çš„ç¬¬ä¸€å‚æ•°å°±æ˜¯ comareï¼ˆstudentï¼‰è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨è€…ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°ä»¥åŠåŽç»­æ‰€æœ‰çš„å‚æ•°ï¼ˆå¦‚æžœæœ‰è·Ÿå¤šä¹Ÿæ˜¯ä¸€æ ·ï¼‰ï¼Œæ˜¯ä½œä¸ºå®žä¾‹æ–¹æ³•çš„å‚æ•°ä¼ å…¥ * æ‰€ä»¥å°‘ä¸€ä¸ªå‚æ•°ä¹Ÿæ²¡ä»€ä¹ˆ * è€Œæ›´ä¸ºå…³é”®çš„æ˜¯è¿™ä¸ªå°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œä¸ºäº†ç®€åŒ–ä»£ç è€Œç”Ÿã€‚ç†è§£å°±å¥½ * å¦‚æ­¤ä¸€æ¥ï¼› è¿™ä¸ªç¬¬ä¸‰ç§æ–¹å¼å°±å¾ˆå¥½ç†è§£äº† * * ç±»å::å®žä¾‹æ–¹æ³• * å³ lambda è¡¨è¾¾å¼çš„ç¬¬ä¸€å‚æ•°å°±æ˜¯ å®žä¾‹æ–¹æ³• çš„è°ƒç”¨è€…ï¼ŒåŽç»­æ‰€æœ‰çš„å‚æ•°å°±æ˜¯ å®žä¾‹æ–¹æ³•çš„ä¼ å…¥å‚æ•° */ students.sort(Student::compare); // å†çœ‹ä¸€ä¸ªä¾‹å­ List&lt;String&gt; cities = Arrays.asList("haha","lala","nihao","memeda"); // å¯¹æ¯”äºŒè€… Collections.sort(cities, (city1, city2) -&gt; city1.compareToIgnoreCase(city2)); Collections.sort(cities, String::compareToIgnoreCase); // å¯¹äºŽç¬¬å››ç§ï¼Œæž„é€ æ–¹æ³•å¼•ç”¨ï¼Œå¯¹äºŽå¸¦å‚æ•°å’Œä¸å¸¦å‚æ•°çš„éƒ½å¯ä»¥ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨çš„è¿›è¡Œè…¿çŸ­ MethodRefrenceTest methodRefrenceTest = new MethodRefrenceTest(); // ç‚¹å‡» new çœ‹çœ‹ä¼šè·³åˆ°é‚£ä¸ªæ–¹æ³•é‡ŒåŽ» methodRefrenceTest.getName(String::new); // ç‚¹å‡» new çœ‹çœ‹ä¼šè·³åˆ°é‚£ä¸ªæ–¹æ³•é‡ŒåŽ» methodRefrenceTest.getName2("haa", String::new); &#125; public String getName(Supplier&lt;String&gt; supplier) &#123; return supplier.get() + "haha"; &#125; public String getName2(String name, Function&lt;String ,String&gt; stringFunction) &#123; return stringFunction.apply(name); &#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jdk8-1-å‡½æ•°å¼æŽ¥å£&lambdaè¡¨è¾¾å¼]]></title>
      <url>%2F2017%2F02%2F11%2Fjdk8-1-%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3-lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%2F</url>
      <content type="text"><![CDATA[1 lmabdaè¡¨è¾¾å¼é¦–å…ˆçœ‹ä¸¤æ®µå¯¹æ¯”ä»£ç :ä¸ºjbutton æ·»åŠ ä¸€ä¸ªæ—¶é—´ç›‘å¬å™¨12345678910// è€å†™æ³•: åŒ¿åå†…éƒ¨ç±»jButton.addActionListener(new AbstractAction() &#123; @Override public void actionPerformed(ActionEvent e) &#123; System.out.println("Hello Button"); &#125;&#125;); // lambda è¡¨è¾¾å¼å†™æ³•jButton.addActionListener(e -&gt; System.out.println("Hello Button")); å¯¹æ¯”ä¸¤ä¸ªå†™æ³•ï¼Œlambdaè¡¨è¾¾å¼çš„å†™æ³•ä¼šç®€å•å¾ˆå¤šï¼Œå¦‚æžœä½ æœ‰å¤šè¡Œå¤„ç†é€»è¾‘ï¼š12345// åŠ ä¸ªå¤§æ‹¬å·jButton.addActionListener(e -&gt;&#123; System.out.println("Hello Button!!!!"); System.out.println("Hello Button2!!!!");&#125;); è¿™é‡Œçš„eï¼Œæ²¡æœ‰å£°æ˜Žç±»åž‹ï¼Œå¹¶ä¸æ˜¯è¡¨ç¤ºjava ä¸æ˜¯ä¸€ä¸ªé™æ€è¯­è¨€äº†ï¼Œè€Œæ˜¯ï¼Œç¼–è¯‘å™¨çš„ç±»åž‹æŽ¨æ–­å‘Šè¯‰å¯ä»¥æŽ¨æ–­å‡ºæ¥è¿™ä¸ª e çš„ç±»åž‹è‚¯å®šæ˜¯ä¸€ä¸ª AbstractAction, æ‰€ä»¥æ— éœ€åŽ»å†™ï¼Œå½“ç„¶å¦‚å†™ä¸Šä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œéœ€è¦åŠ ä¸Šæ‹¬å· 1234jButton.addActionListener((AbstractAction e) -&gt;&#123; System.out.println("Hello Button!!!!"); System.out.println("Hello Button2!!!!");&#125;) æ‰€ä»¥ lambda è¡¨è¾¾å¼çš„åŸºæœ¬ç»“æž„å¦‚ä¸‹ï¼ˆæ ¹æ®å•ä¸ªå‚æ•°å’Œå•ä¸ªæ“ä½œå¯ä»¥æœ‰ä¸€å®šçš„çœç•¥ï¼‰1234(event e1, event e2 ...) -&gt; &#123; action1; action2;&#125; ä¸€å¼€å§‹å¯èƒ½ä¸æ˜¯ç‰¹åˆ«å¥½ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆ java8 æ–°å¢žçš„å¦ä¸€ä¸ªç‰¹æ€§ å‡½æ•°å¼æŽ¥å£ æ¥ä¸€èµ·ç†è§£ä¸ºä½•æˆ‘ä»¬å¯ä»¥å¦‚æ­¤ç¼–å†™ä»£ç  2 å‡½æ•°å¼æŽ¥å£ä»€ä¹ˆå«å‡½æ•°å¼æŽ¥å£å‘¢ï¼Ÿ å‡½æ•°å¼æŽ¥å£æ˜¯ jdk1.8 ä¸­æ–°å¢žçš„ä¸€ä¸ªæŽ¥å£ç±»åž‹ï¼Œä¸ºæ­¤è¿˜æ–°å¢žäº†ä¸€ä¸ªæ³¨è§£ @FunctionalInterface ç”¨äºŽæ ‡æ³¨å‡½æ•°æŽ¥å£ï¼›æˆ‘ä»¬é€šè¿‡é˜…è¯» @FunctionalInterface çš„ jdk æ–‡æ¡£æ¥è¿›è¡Œæ¦‚å¿µè®¤çŸ¥ã€‚æ€»ç»“èµ·æ¥ï¼š å½“ä¸€ä¸ªæŽ¥å£ æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæŠ½è±¡æ–¹æ³•ä¸æ˜¯ç»§æ‰¿è‡ª Object çš„æ–¹æ³•ï¼Œå°±ä¼šè¢«å½“åšä¸€ä¸ª å‡½æ•°å¼æŽ¥å£ å½“ä¸€ä¸ªæŽ¥å£è¢« @FunctionalInterface æ³¨è§£æ—¶ï¼Œå¯ä»¥å½“åšä¸€ä¸ªå‡½æ•°å¼æŽ¥å£ å½“ä¸€ä¸ªæŽ¥å£è¢« @FunctionalInterface æ³¨è§£ï¼Œä½†ä¸æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ å½“ä¸€ä¸ªæŽ¥å£ æ²¡æœ‰è¢« @FunctionalInterface æ³¨è§£æ ‡æ³¨ï¼Œä½†æ˜¯æ»¡è¶³å‡½æ•°å¼æŽ¥å£çš„æ¡ä»¶ï¼Œä¹Ÿä¼šè¢«å½“åšå‡½æ•°å¼æŽ¥å£ è¿™é‡Œçš„ç¬¬ä¸€æ¡åŽåŠéƒ¨åˆ†å¾ˆé‡è¦ï¼Œå¦‚æžœä¸€ä¸ªæŽ¥å£ï¼Œæœ‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å…¶ä¸­ä¸€ä¸ªæ˜¯ç»§æ‰¿è‡ª Object ç±»ï¼ˆå› ä¸ºå…¶å®žä¸‡ç±»å¸ˆç¥–ï¼‰, ä»–ä»ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°å¼æŽ¥å£ã€‚ ä¾‹å¦‚ä»¥ä¸‹å®žä¾‹å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°å¼æŽ¥å£ï¼Œå³ä½¿ä»–æœ‰2ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯toStringæ˜¯ç»§æ‰¿è‡ª Object çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸ä¼šç®—ä½œå‡½æ•°å¼æŽ¥å£çš„æŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥å…¶ä¸­çš„ test() æ–¹æ³•, æ˜¯å‡½æ•°å¼æŽ¥å£è®¤å®šçš„å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•ã€‚åŒç†ï¼Œå¦‚æžœä¸‹é¢çš„ä¾‹å­åªæœ‰ toString() æ–¹æ³•ï¼Œè€Œæ²¡æœ‰ test() æ–¹æ³•ï¼ŒåŒæ—¶åˆæœ‰ @FunctionalInterface æ³¨è§£çš„è¯ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚1234567891011121314@FunctionalInterfaceinterface MyInterface &#123; /** * å‡½æ•°å¼æŽ¥å£ï¼Œåªèƒ½æœ‰å”¯ä¸€çš„æŠ½è±¡æ–¹æ³• */ void test(); /** * å› ä¸ºæ”¹æŠ½è±¡æ–¹æ³•ï¼Œç»§æ‰¿è‡ª Objectï¼Œæ‰€ä»¥ä¸ç®—å‡½æ•°å¼æŽ¥å£çš„æŠ½è±¡æ–¹æ³• * æ•…è€Œï¼ŒæŽ¥å£å¯ä»¥ç®—ä½œä¸€ä¸ªå‡½æ•°å¼æŽ¥å£ */ String toString();&#125; æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ @FunctionalInterface çš„jdkæ–‡æ¡£ï¼Œé‡Œé¢æœ‰ä¸€å¥: æ„æ€å°±æ˜¯è¯´ï¼Œå‡½æ•°å¼æŽ¥å£çš„å®žçŽ°ï¼Œå¯ä»¥é€šè¿‡ lambda è¡¨è¾¾å¼ æ–¹æ³•å¼•ç”¨ ä»¥åŠ æž„é€ æ–¹æ³•å¼•ç”¨ çš„æ–¹å¼æ¥å®žçŽ°ã€‚å…¶å®žæˆ‘ä»¬ä¸Šé¢çš„ lambda è¡¨è¾¾å¼çš„ä¾‹å­ï¼Œå°±æ˜¯å®žçŽ°çš„å‡½æ•°å¼æŽ¥å£ã€‚æˆ‘ä»¬æ¥æ–°å†™ä¸€ä¸ªä¾‹å­ã€‚ 12345678910111213141516171819public class Test2 &#123; public void testInterface(MyInterface myInterface) &#123; System.out.println("start ------------------"); myInterface.test(); System.out.println("end --------------------"); &#125; public static void main(String[] args) &#123; Test2 test2 = new Test2(); /* * å› ä¸ºå‡½æ•°å¼æŽ¥å£çš„é‡Œå”¯ä¸€çš„æŠ½è±¡æ–¹æ³•testé‡Œé¢ï¼Œæ²¡æœ‰å‚æ•° * ä½†æ˜¯ï¼ˆï¼‰ä¸èƒ½çœç•¥ * å‚è€ƒTest1 ç¨‹åºé‡Œé¢çš„Jframe é‡Œçš„ActionListener */ test2.testInterface(() -&gt; &#123; System.out.println("å‡½æ•°å¼æŽ¥å£æŽ¥å£å®žçŽ°"); &#125;); &#125;&#125; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒtestInterface æ–¹æ³•éœ€è¦ä¼ é€’ä¸€ä¸ª testInterfaceçš„æŽ¥å£ï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨çš„æ–¹å¼å°±æ˜¯ lambda è¡¨è¾¾å¼æ¥å®žçŽ°äº†ä¸€ä¸ªå‡½æ•°å¼æŽ¥å£ã€‚ å¯ä»¥è¿ç”¨ä¸‹é¢çš„å½¢å¼æ¥ç†è§£ã€‚ (å‡½æ•°å¼æŽ¥å£å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨) -&gt; {å”¯ä¸€æŠ½è±¡å‡½æ•°çš„å®žçŽ°} è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æœ€å¼€å§‹çš„é‚£ä¸ªç»™ button åŠ  action çš„ä¾‹å­ã€‚å…¶å®žå®žçŽ°å°±æ˜¯ ActionListener è¿™ä¸ªå‡½æ•°å¼æŽ¥å£çš„å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•ï¼šè™½ç„¶è¯¥ç±»æ²¡æœ‰ @FunctionalInterface æ³¨è§£ï¼Œä½†æ˜¯æ»¡è¶³æ¡ä»¶ï¼Œåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥ä»–ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¼æŽ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åŽ»ä½¿ç”¨ lambda è¡¨è¾¾å¼åŽ»å®žçŽ°ä»–ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[new start]]></title>
      <url>%2F2017%2F01%2F11%2Fnew-start%2F</url>
      <content type="text"><![CDATA[é‡æ–°å¼€å§‹ç»´æŠ¤è¿™ä¸ªç½‘ç«™ã€‚è®©è‡ªå·±é…å¾—ä¸Šè¿™ä¸ªä¸é”™çš„åŸŸå movingon.cn! æˆ‘14å¹´ä¹°äº†è¿™ä¸ªåŸŸåï¼Œæœ¬æ¥æƒ³è‡ªå·±è¦å¥½å¥½åšï¼Œå®žåœ¨ä¸è¡Œï¼Œè¿™åŸŸåä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„ç£ä¿ƒã€‚ ç„¶è€Œï¼Œè‡ªå·±ç»´æŠ¤äº†ä¸€æ®µæ—¶é—´ä¹‹åŽï¼Œå°±å¿˜è®°äº†è¦åŽ»ç»´æŠ¤ã€‚ ä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œæˆ‘ç”¨è¿™é‡Œè®°å½•è‡ªå·±çš„æŠ€æœ¯æˆé•¿ä»¥åŠä¸ªäººæ„Ÿæ‚Ÿï¼Œä½œä¸ºè‡ªå·±çš„æˆé•¿çš„è®°å½•ã€‚]]></content>
    </entry>

    
  
  
</search>
